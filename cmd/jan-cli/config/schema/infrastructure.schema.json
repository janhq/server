{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://github.com/janhq/jan-server/pkg/config/infrastructure-config","$defs":{"AuthConfig":{"properties":{"keycloak":{"$ref":"#/$defs/KeycloakConfig"}},"additionalProperties":false,"type":"object","required":["keycloak"]},"DatabaseConfig":{"properties":{"postgres":{"$ref":"#/$defs/PostgresConfig"}},"additionalProperties":false,"type":"object","required":["postgres"]},"GatewayConfig":{"properties":{"kong":{"$ref":"#/$defs/KongConfig"}},"additionalProperties":false,"type":"object","required":["kong"]},"KeycloakConfig":{"properties":{"base_url":{"type":"string","format":"uri"},"public_url":{"type":"string","format":"uri"},"realm":{"type":"string"},"http_port":{"type":"integer","maximum":65535,"minimum":1},"admin_user":{"type":"string"},"admin_password":{"type":"string"},"admin_realm":{"type":"string"},"admin_client_id":{"type":"string"},"backend_client_id":{"type":"string"},"backend_client_secret":{"type":"string"},"target_client_id":{"type":"string"},"oauth_redirect_uri":{"type":"string","format":"uri"},"jwks_url":{"type":"string","format":"uri"},"oidc_discovery_url":{"type":"string","format":"uri"},"issuer":{"type":"string","format":"uri"},"audience":{"type":"string"},"refresh_jwks_interval":{"type":"integer"},"auth_clock_skew":{"type":"integer"},"guest_role":{"type":"string"},"features":{"items":{"type":"string"},"type":"array"}},"additionalProperties":false,"type":"object","required":["base_url","public_url","realm","http_port","admin_user","admin_password","admin_realm","admin_client_id","backend_client_id","backend_client_secret","target_client_id","oauth_redirect_uri","jwks_url","oidc_discovery_url","issuer","audience","refresh_jwks_interval","auth_clock_skew","guest_role","features"]},"KongConfig":{"properties":{"http_port":{"type":"integer","maximum":65535,"minimum":1},"admin_port":{"type":"integer","maximum":65535,"minimum":1},"admin_url":{"type":"string","format":"uri"},"log_level":{"type":"string","enum":["debug","info","warn","error"]}},"additionalProperties":false,"type":"object","required":["http_port","admin_port","admin_url","log_level"]},"PostgresConfig":{"properties":{"host":{"type":"string"},"port":{"type":"integer","maximum":65535,"minimum":1},"user":{"type":"string"},"database":{"type":"string"},"password":{"type":"string"},"ssl_mode":{"type":"string","enum":["disable","require","verify-ca","verify-full"]},"max_connections":{"type":"integer","maximum":1000,"minimum":1},"max_idle_conns":{"type":"integer","minimum":1},"max_open_conns":{"type":"integer","minimum":1},"conn_max_lifetime":{"type":"integer"}},"additionalProperties":false,"type":"object","required":["host","port","user","database","password","ssl_mode","max_connections","max_idle_conns","max_open_conns","conn_max_lifetime"]}},"properties":{"database":{"$ref":"#/$defs/DatabaseConfig"},"auth":{"$ref":"#/$defs/AuthConfig"},"gateway":{"$ref":"#/$defs/GatewayConfig"}},"additionalProperties":false,"type":"object","required":["database","auth","gateway"]}