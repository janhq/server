basePath: /
definitions:
  authhandler.AccessTokenResponse:
    properties:
      access_token:
        type: string
      expires_at:
        type: string
      expires_in:
        type: integer
      refresh_token:
        type: string
      token_type:
        type: string
    type: object
  authhandler.GetMeResponse:
    properties:
      auth_method:
        type: string
      email:
        type: string
      id:
        type: string
      is_admin:
        type: boolean
      name:
        type: string
      roles:
        items:
          type: string
        type: array
      subject:
        type: string
      username:
        type: string
    type: object
  chatrequests.ChatCompletionRequest:
    properties:
      chat_template_kwargs:
        additionalProperties: {}
        description: |-
          ChatTemplateKwargs provides a way to add non-standard parameters to the request body.
          Additional kwargs to pass to the template renderer. Will be accessible by the chat template.
          Such as think mode for qwen3. "chat_template_kwargs": {"enable_thinking": false}
          https://qwen.readthedocs.io/en/latest/deployment/vllm.html#thinking-non-thinking-modes
        type: object
      conversation:
        allOf:
        - $ref: '#/definitions/chatrequests.ConversationReference'
        description: |-
          Conversation can be either a string (conversation ID) or a conversation object
          Items from this conversation are prepended to Messages for this response request.
          Input items and output items from this response are automatically added to this conversation after completion.
      deep_research:
        description: |-
          DeepResearch enables the Deep Research mode which uses a specialized prompt
          for conducting in-depth investigations with tool usage.
          Requires a model with supports_reasoning: true capability.
        type: boolean
      enable_thinking:
        description: |-
          EnableThinking controls whether reasoning/thinking capabilities should be used.
          Defaults to true. When set to false for a model with supports_reasoning: true
          and an instruct model configured, the instruct model will be used instead.
        type: boolean
      frequency_penalty:
        type: number
      function_call:
        description: 'Deprecated: use ToolChoice instead.'
      functions:
        description: 'Deprecated: use Tools instead.'
        items:
          $ref: '#/definitions/openai.FunctionDefinition'
        type: array
      guided_choice:
        description: |-
          GuidedChoice is a vLLM-specific extension that restricts the model's output
          to one of the predefined string choices provided in this field. This feature
          is used to constrain the model's responses to a controlled set of options,
          ensuring predictable and consistent outputs in scenarios where specific
          choices are required.
        items:
          type: string
        type: array
      logit_bias:
        additionalProperties:
          type: integer
        description: |-
          LogitBias is must be a token id string (specified by their token ID in the tokenizer), not a word string.
          incorrect: `"logit_bias":{"You": 6}`, correct: `"logit_bias":{"1639": 6}`
          refs: https://platform.openai.com/docs/api-reference/chat/create#chat/create-logit_bias
        type: object
      logprobs:
        description: |-
          LogProbs indicates whether to return log probabilities of the output tokens or not.
          If true, returns the log probabilities of each output token returned in the content of message.
          This option is currently not available on the gpt-4-vision-preview model.
        type: boolean
      max_completion_tokens:
        description: |-
          MaxCompletionTokens An upper bound for the number of tokens that can be generated for a completion,
          including visible output tokens and reasoning tokens https://platform.openai.com/docs/guides/reasoning
        type: integer
      max_tokens:
        description: |-
          MaxTokens The maximum number of tokens that can be generated in the chat completion.
          This value can be used to control costs for text generated via API.
          Deprecated: use MaxCompletionTokens. Not compatible with o1-series models.
          refs: https://platform.openai.com/docs/api-reference/chat/create#chat-create-max_tokens
        type: integer
      messages:
        items:
          $ref: '#/definitions/openai.ChatCompletionMessage'
        type: array
      metadata:
        additionalProperties:
          type: string
        description: Metadata to store with the completion.
        type: object
      model:
        type: string
      "n":
        type: integer
      parallel_tool_calls:
        description: 'Disable the default behavior of parallel tool calls by setting
          it: false.'
      prediction:
        allOf:
        - $ref: '#/definitions/openai.Prediction'
        description: Configuration for a predicted output.
      presence_penalty:
        type: number
      reasoning_effort:
        description: Controls effort on reasoning for reasoning models. It can be
          set to "low", "medium", or "high".
        type: string
      repetition_penalty:
        type: number
      response_format:
        $ref: '#/definitions/openai.ChatCompletionResponseFormat'
      safety_identifier:
        description: |-
          A stable identifier used to help detect users of your application that may be violating OpenAI's usage policies.
          The IDs should be a string that uniquely identifies each user.
          We recommend hashing their username or email address, in order to avoid sending us any identifying information.
          https://platform.openai.com/docs/api-reference/chat/create#chat_create-safety_identifier
        type: string
      seed:
        type: integer
      service_tier:
        allOf:
        - $ref: '#/definitions/openai.ServiceTier'
        description: Specifies the latency tier to use for processing the request.
      stop:
        items:
          type: string
        type: array
      store:
        description: Store controls whether the latest input and generated response
          should be persisted
        type: boolean
      store_reasoning:
        description: StoreReasoning controls whether reasoning content (if present)
          should also be persisted
        type: boolean
      stream:
        type: boolean
      stream_options:
        allOf:
        - $ref: '#/definitions/openai.StreamOptions'
        description: 'Options for streaming response. Only set this when you set stream:
          true.'
      temperature:
        type: number
      tool_choice:
        description: This can be either a string or an ToolChoice object.
      tools:
        items:
          $ref: '#/definitions/openai.Tool'
        type: array
      top_k:
        type: integer
      top_logprobs:
        description: |-
          TopLogProbs is an integer between 0 and 5 specifying the number of most likely tokens to return at each
          token position, each with an associated log probability.
          logprobs must be set to true if this parameter is used.
        type: integer
      top_p:
        type: number
      user:
        type: string
      verbosity:
        description: |-
          Verbosity determines how many output tokens are generated. Lowering the number of
          tokens reduces overall latency. It can be set to "low", "medium", or "high".
          Note: This field is only confirmed to work with gpt-5, gpt-5-mini and gpt-5-nano.
          Also, it is not in the API reference of chat completion at the time of writing,
          though it is supported by the API.
        type: string
    type: object
  chatrequests.ConversationReference:
    type: object
  chatresponses.ChatCompletionResponse:
    properties:
      choices:
        items:
          $ref: '#/definitions/openai.ChatCompletionChoice'
        type: array
      conversation:
        $ref: '#/definitions/chatresponses.ConversationContext'
      created:
        type: integer
      id:
        type: string
      model:
        type: string
      object:
        type: string
      prompt_filter_results:
        items:
          $ref: '#/definitions/openai.PromptFilterResult'
        type: array
      service_tier:
        $ref: '#/definitions/openai.ServiceTier'
      system_fingerprint:
        type: string
      trimmed:
        description: True if messages were trimmed to fit context
        type: boolean
      usage:
        $ref: '#/definitions/openai.Usage'
    type: object
  chatresponses.ConversationContext:
    properties:
      id:
        description: The unique ID of the conversation
        type: string
      title:
        description: The title of the conversation (optional)
        type: string
    type: object
  conversation.Annotation:
    properties:
      bounding_box:
        allOf:
        - $ref: '#/definitions/conversation.BBox'
        description: Bounding box for image/PDF annotations
      confidence:
        description: Citation confidence score (0.0-1.0)
        type: number
      container_id:
        description: Document container reference
        type: string
      end_index:
        description: End position in text
        type: integer
      file_id:
        description: For file citations
        type: string
      filename:
        description: File name for citations
        type: string
      index:
        description: Citation index
        type: integer
      page_number:
        description: Page reference for documents
        type: integer
      quote:
        description: Actual quoted text from source
        type: string
      start_index:
        description: Start position in text
        type: integer
      text:
        description: Display text
        type: string
      type:
        description: '"file_citation", "url_citation", "file_path", etc.'
        type: string
      url:
        description: For URL citations
        type: string
    type: object
  conversation.AudioContent:
    properties:
      data:
        description: Base64 encoded audio data
        type: string
      format:
        description: 'Audio format: mp3, wav, pcm16, etc.'
        type: string
      id:
        type: string
      transcript:
        description: Text transcription of audio
        type: string
    type: object
  conversation.BBox:
    properties:
      height:
        type: number
      width:
        type: number
      x:
        type: number
      "y":
        type: number
    type: object
  conversation.CodeContent:
    properties:
      code:
        description: Code content
        type: string
      error:
        description: Execution error
        type: string
      execution_id:
        description: Execution session ID
        type: string
      exit_code:
        description: Process exit code
        type: integer
      language:
        description: Programming language
        type: string
      metadata:
        additionalProperties: {}
        description: Additional metadata
        type: object
      output:
        description: Execution output
        type: string
    type: object
  conversation.ComputerAction:
    properties:
      action:
        description: 'Action type: "click", "type", "key", "scroll", "move", etc.'
        type: string
      coordinates:
        allOf:
        - $ref: '#/definitions/conversation.Coordinates'
        description: Screen coordinates for mouse actions
      key:
        description: Key for keyboard actions
        type: string
      metadata:
        additionalProperties: {}
        description: Additional action metadata
        type: object
      scroll_delta:
        allOf:
        - $ref: '#/definitions/conversation.ScrollDelta'
        description: Scroll amount
      text:
        description: Text for typing actions
        type: string
    type: object
  conversation.Content:
    properties:
      audio:
        allOf:
        - $ref: '#/definitions/conversation.AudioContent'
        description: Audio content for speech
      code:
        allOf:
        - $ref: '#/definitions/conversation.CodeContent'
        description: Code block with execution metadata
      computer_action:
        allOf:
        - $ref: '#/definitions/conversation.ComputerAction'
        description: Computer interaction details
      computer_screenshot:
        allOf:
        - $ref: '#/definitions/conversation.ScreenshotContent'
        description: Screenshot from computer use
      file:
        allOf:
        - $ref: '#/definitions/conversation.FileContent'
        description: File content
      finish_reason:
        description: Finish reason
        type: string
      function_call:
        allOf:
        - $ref: '#/definitions/conversation.FunctionCall'
        description: Function call content (deprecated, use tool_calls)
      function_call_output:
        allOf:
        - $ref: '#/definitions/conversation.FunctionCallOut'
        description: Function call output
      image:
        allOf:
        - $ref: '#/definitions/conversation.ImageContent'
        description: Image content
      input_audio:
        allOf:
        - $ref: '#/definitions/conversation.InputAudio'
        description: User audio input
      output_text:
        allOf:
        - $ref: '#/definitions/conversation.OutputText'
        description: AI output text (with annotations)
      refusal:
        description: Model refusal message
        type: string
      summary_text:
        description: Summary content
        type: string
      thinking:
        description: Internal reasoning (o1 models)
        type: string
      tool_call_id:
        description: Tool call ID (for tool responses)
        type: string
      tool_calls:
        description: Tool calls (for assistant messages)
        items:
          $ref: '#/definitions/conversation.ToolCall'
        type: array
      type:
        type: string
    type: object
  conversation.Coordinates:
    properties:
      x:
        type: integer
      "y":
        type: integer
    type: object
  conversation.FileContent:
    properties:
      file_id:
        type: string
      mime_type:
        type: string
      name:
        type: string
      size:
        type: integer
    type: object
  conversation.FunctionCall:
    properties:
      arguments:
        description: JSON-encoded arguments
        type: string
      id:
        description: Call ID
        type: string
      name:
        description: Function name
        type: string
    type: object
  conversation.FunctionCallOut:
    properties:
      call_id:
        description: ID of the function call this responds to
        type: string
      output:
        description: String output from the function
        type: string
    type: object
  conversation.ImageContent:
    properties:
      detail:
        description: '"low", "high", "auto"'
        type: string
      file_id:
        type: string
      url:
        type: string
    type: object
  conversation.IncompleteDetails:
    properties:
      error:
        description: Error message if applicable
        type: string
      reason:
        description: '"max_tokens", "content_filter", "tool_calls", etc.'
        type: string
    type: object
  conversation.InputAudio:
    properties:
      data:
        description: Base64 encoded audio data
        type: string
      format:
        description: 'Audio format: mp3, wav, pcm16, etc.'
        type: string
      transcript:
        description: Optional text transcription
        type: string
    type: object
  conversation.Item:
    properties:
      acknowledged_safety_checks:
        description: For computer call outputs
        items:
          $ref: '#/definitions/conversation.SafetyCheck'
        type: array
      action:
        additionalProperties: true
        description: For computer/shell actions
        type: object
      approval_request_id:
        description: For MCP approval
        type: string
      approve:
        description: For MCP approval response
        type: boolean
      arguments:
        description: For tool calls (JSON string)
        type: string
      branch:
        description: Branch identifier (MAIN, EDIT_1, etc.)
        type: string
      call_id:
        description: OpenAI-compatible fields for specific item types
        type: string
      commands:
        description: For shell calls
        items:
          type: string
        type: array
      completed_at:
        type: string
      content:
        items:
          $ref: '#/definitions/conversation.Content'
        type: array
      created_at:
        type: string
      error:
        description: For failed calls
        type: string
      id:
        type: string
      incomplete_at:
        type: string
      incomplete_details:
        $ref: '#/definitions/conversation.IncompleteDetails'
      max_output_length:
        description: For shell calls
        type: integer
      name:
        description: For MCP tool calls - tool name
        type: string
      object:
        description: Always "conversation.item" for OpenAI compatibility
        type: string
      operation:
        additionalProperties: true
        description: For patch operations
        type: object
      output:
        description: For tool call outputs
        type: string
      pending_safety_checks:
        description: For computer calls
        items:
          $ref: '#/definitions/conversation.SafetyCheck'
        type: array
      rated_at:
        description: When rating was given
        type: string
      rating:
        allOf:
        - $ref: '#/definitions/conversation.ItemRating'
        description: User feedback/rating
      rating_comment:
        description: Optional comment with rating
        type: string
      reason:
        description: For MCP approval reason
        type: string
      role:
        $ref: '#/definitions/conversation.ItemRole'
      sequence_number:
        description: Order within branch
        type: integer
      server_label:
        description: For MCP calls
        type: string
      shell_outputs:
        description: For shell call outputs
        items:
          $ref: '#/definitions/conversation.ShellOutput'
        type: array
      status:
        $ref: '#/definitions/conversation.ItemStatus'
      tools:
        description: For mcp_list_tools
        items:
          $ref: '#/definitions/conversation.McpTool'
        type: array
      type:
        $ref: '#/definitions/conversation.ItemType'
    type: object
  conversation.ItemRating:
    enum:
    - like
    - unlike
    type: string
    x-enum-comments:
      ItemRatingLike: Positive feedback (like)
      ItemRatingUnlike: Negative feedback (unlike)
    x-enum-varnames:
    - ItemRatingLike
    - ItemRatingUnlike
  conversation.ItemRole:
    enum:
    - system
    - user
    - assistant
    - tool
    - developer
    - critic
    - discriminator
    - unknown
    type: string
    x-enum-comments:
      ItemRoleCritic: For critique/evaluation workflows
      ItemRoleDeveloper: System-level instructions (OpenAI replacement for system)
      ItemRoleDiscriminator: For adversarial/validation workflows
      ItemRoleUnknown: Fallback for unrecognized roles
    x-enum-varnames:
    - ItemRoleSystem
    - ItemRoleUser
    - ItemRoleAssistant
    - ItemRoleTool
    - ItemRoleDeveloper
    - ItemRoleCritic
    - ItemRoleDiscriminator
    - ItemRoleUnknown
  conversation.ItemStatus:
    enum:
    - incomplete
    - in_progress
    - completed
    - failed
    - cancelled
    - searching
    - generating
    - calling
    - streaming
    - rate_limited
    type: string
    x-enum-comments:
      ItemStatusCalling: Function/tool call in progress
      ItemStatusCancelled: Cancelled by user or system
      ItemStatusCompleted: Successfully finished
      ItemStatusFailed: Failed with error
      ItemStatusGenerating: Image generation in progress
      ItemStatusInProgress: Currently processing
      ItemStatusIncomplete: Not started or partially complete (OpenAI uses this instead
        of "pending")
      ItemStatusRateLimited: Rate limit hit
      ItemStatusSearching: File/web search in progress
      ItemStatusStreaming: Streaming response in progress
    x-enum-varnames:
    - ItemStatusIncomplete
    - ItemStatusInProgress
    - ItemStatusCompleted
    - ItemStatusFailed
    - ItemStatusCancelled
    - ItemStatusSearching
    - ItemStatusGenerating
    - ItemStatusCalling
    - ItemStatusStreaming
    - ItemStatusRateLimited
  conversation.ItemType:
    enum:
    - message
    - function_call
    - function_call_output
    - reasoning
    - file_search_call
    - web_search_call
    - image_generation_call
    - image_edit_call
    - computer_call
    - computer_call_output
    - code_interpreter_call
    - local_shell_call
    - local_shell_call_output
    - shell_call
    - shell_call_output
    - apply_patch_call
    - apply_patch_call_output
    - mcp_list_tools
    - mcp_approval_request
    - mcp_approval_response
    - mcp_call
    - custom_tool_call
    - custom_tool_call_output
    - file_search
    - web_search
    - code_interpreter
    - computer_use
    - mcp_item
    - image_generation
    type: string
    x-enum-comments:
      ItemTypeCodeInterpreter: 'Legacy: maps to code_interpreter_call'
      ItemTypeComputerUse: 'Legacy: maps to computer_call'
      ItemTypeFileSearch: 'Legacy: maps to file_search_call'
      ItemTypeImageGeneration: 'Legacy: maps to image_generation_call'
      ItemTypeMCPItem: 'Legacy: maps to mcp_call'
      ItemTypeReasoning: For o1/reasoning models
      ItemTypeWebSearch: 'Legacy: maps to web_search_call'
    x-enum-varnames:
    - ItemTypeMessage
    - ItemTypeFunctionCall
    - ItemTypeFunctionCallOut
    - ItemTypeReasoning
    - ItemTypeFileSearchCall
    - ItemTypeWebSearchCall
    - ItemTypeImageGenerationCall
    - ItemTypeImageEditCall
    - ItemTypeComputerCall
    - ItemTypeComputerCallOutput
    - ItemTypeCodeInterpreterCall
    - ItemTypeLocalShellCall
    - ItemTypeLocalShellCallOutput
    - ItemTypeShellCall
    - ItemTypeShellCallOutput
    - ItemTypeApplyPatchCall
    - ItemTypeApplyPatchCallOutput
    - ItemTypeMcpListTools
    - ItemTypeMcpApprovalRequest
    - ItemTypeMcpApprovalResponse
    - ItemTypeMcpCall
    - ItemTypeCustomToolCall
    - ItemTypeCustomToolCallOutput
    - ItemTypeFileSearch
    - ItemTypeWebSearch
    - ItemTypeCodeInterpreter
    - ItemTypeComputerUse
    - ItemTypeMCPItem
    - ItemTypeImageGeneration
  conversation.LogProb:
    properties:
      bytes:
        items:
          type: integer
        type: array
      logprob:
        type: number
      token:
        type: string
      top_logprobs:
        items:
          $ref: '#/definitions/conversation.TopLogProb'
        type: array
    type: object
  conversation.McpTool:
    properties:
      annotations: {}
      description:
        type: string
      input_schema: {}
      name:
        type: string
    type: object
  conversation.OutputText:
    properties:
      annotations:
        description: Required for OpenAI compatibility
        items:
          $ref: '#/definitions/conversation.Annotation'
        type: array
      logprobs:
        description: Token probabilities
        items:
          $ref: '#/definitions/conversation.LogProb'
        type: array
      text:
        type: string
    type: object
  conversation.SafetyCheck:
    properties:
      reason:
        type: string
      type:
        type: string
    type: object
  conversation.ScreenshotContent:
    properties:
      description:
        description: Optional description
        type: string
      height:
        description: Image height in pixels
        type: integer
      image_data:
        description: Base64 encoded image data
        type: string
      image_url:
        description: URL to screenshot image
        type: string
      timestamp:
        description: Unix timestamp when screenshot was taken
        type: integer
      width:
        description: Image width in pixels
        type: integer
    type: object
  conversation.ScrollDelta:
    properties:
      x:
        type: integer
      "y":
        type: integer
    type: object
  conversation.ShellOutput:
    properties:
      type:
        description: stdout, stderr, exit_code
        type: string
      value:
        type: string
    type: object
  conversation.ToolCall:
    properties:
      function:
        $ref: '#/definitions/conversation.FunctionCall'
      id:
        type: string
      type:
        description: '"function", "file_search", "code_interpreter"'
        type: string
    type: object
  conversation.TopLogProb:
    properties:
      bytes:
        items:
          type: integer
        type: array
      logprob:
        type: number
      token:
        type: string
    type: object
  conversationhandler.ActivateBranchResponse:
    properties:
      active_branch:
        type: string
      message:
        type: string
    type: object
  conversationhandler.BranchResponse:
    properties:
      created_at:
        type: integer
      description:
        type: string
      forked_at:
        type: integer
      forked_from_item_id:
        type: string
      is_active:
        type: boolean
      item_count:
        type: integer
      name:
        type: string
      parent_branch:
        type: string
      updated_at:
        type: integer
    type: object
  conversationhandler.CreateBranchRequest:
    properties:
      description:
        type: string
      fork_from_item_id:
        type: string
      name:
        type: string
      parent_branch:
        type: string
    required:
    - name
    type: object
  conversationhandler.DeleteItemResponse:
    properties:
      branch:
        description: Always "MAIN" after swap
        type: string
      branch_created:
        type: boolean
      deleted:
        type: boolean
      old_main_backup:
        description: Backup name for old MAIN
        type: string
    type: object
  conversationhandler.EditMessageRequest:
    properties:
      content:
        type: string
      regenerate:
        description: 'Auto-trigger new response (default: true)'
        type: boolean
    required:
    - content
    type: object
  conversationhandler.EditMessageResponse:
    properties:
      branch:
        description: Always "MAIN" after swap
        type: string
      branch_created:
        type: boolean
      new_branch:
        $ref: '#/definitions/conversationhandler.BranchResponse'
      old_main_backup:
        description: Backup name for old MAIN
        type: string
      user_item:
        $ref: '#/definitions/conversation.Item'
    type: object
  conversationhandler.ListBranchesResponse:
    properties:
      active_branch:
        type: string
      data:
        items:
          $ref: '#/definitions/conversationhandler.BranchResponse'
        type: array
      object:
        description: '"list"'
        type: string
    type: object
  conversationhandler.RegenerateMessageRequest:
    properties:
      max_tokens:
        description: Override max tokens
        type: integer
      model:
        description: Override model
        type: string
      temperature:
        description: Override temperature
        type: number
    type: object
  conversationhandler.RegenerateMessageResponse:
    properties:
      branch:
        description: Always "MAIN" after swap
        type: string
      branch_created:
        type: boolean
      new_branch:
        $ref: '#/definitions/conversationhandler.BranchResponse'
      old_main_backup:
        description: Backup name for old MAIN
        type: string
      user_item_id:
        type: string
    type: object
  conversationrequests.CreateConversationRequest:
    properties:
      items:
        items:
          $ref: '#/definitions/conversation.Item'
        type: array
      metadata:
        additionalProperties:
          type: string
        type: object
      project_id:
        type: string
      referrer:
        type: string
      title:
        type: string
    type: object
  conversationrequests.CreateItemsRequest:
    properties:
      items:
        items:
          $ref: '#/definitions/conversation.Item'
        type: array
    required:
    - items
    type: object
  conversationrequests.UpdateConversationRequest:
    properties:
      metadata:
        additionalProperties:
          type: string
        type: object
      project_id:
        type: string
      referrer:
        type: string
      title:
        type: string
    type: object
  conversationrequests.UpdateItemByCallIDRequest:
    properties:
      arguments:
        description: JSON string of arguments
        type: string
      error:
        description: Error message if status is "failed"
        type: string
      name:
        description: Tool info fields (optional - already set on creation, but can
          be updated)
        type: string
      output:
        description: Result fields
        type: string
      server_label:
        description: MCP server label
        type: string
      status:
        description: Required fields
        type: string
    required:
    - status
    type: object
  conversationresponses.BulkConversationsDeletedResponse:
    properties:
      deleted:
        type: boolean
      deleted_count:
        type: integer
      object:
        type: string
    type: object
  conversationresponses.ConversationDeletedResponse:
    properties:
      deleted:
        type: boolean
      id:
        type: string
      object:
        type: string
    type: object
  conversationresponses.ConversationItemCreatedResponse:
    properties:
      data:
        items:
          $ref: '#/definitions/conversation.Item'
        type: array
      first_id:
        type: string
      has_more:
        type: boolean
      last_id:
        type: string
      object:
        type: string
    type: object
  conversationresponses.ConversationListResponse:
    properties:
      data:
        items:
          $ref: '#/definitions/conversationresponses.ConversationResponse'
        type: array
      first_id:
        type: string
      has_more:
        type: boolean
      last_id:
        type: string
      object:
        type: string
      total:
        type: integer
    type: object
  conversationresponses.ConversationResponse:
    properties:
      created_at:
        type: integer
      id:
        type: string
      metadata:
        additionalProperties:
          type: string
        type: object
      object:
        type: string
      project_id:
        type: string
      referrer:
        type: string
      title:
        type: string
      updated_at:
        type: integer
    type: object
  conversationresponses.ItemListResponse:
    properties:
      data:
        items:
          $ref: '#/definitions/conversation.Item'
        type: array
      first_id:
        type: string
      has_more:
        type: boolean
      last_id:
        type: string
      object:
        type: string
    type: object
  conversationresponses.ItemResponse:
    properties:
      acknowledged_safety_checks:
        description: For computer call outputs
        items:
          $ref: '#/definitions/conversation.SafetyCheck'
        type: array
      action:
        additionalProperties: true
        description: For computer/shell actions
        type: object
      approval_request_id:
        description: For MCP approval
        type: string
      approve:
        description: For MCP approval response
        type: boolean
      arguments:
        description: For tool calls (JSON string)
        type: string
      branch:
        description: Branch identifier (MAIN, EDIT_1, etc.)
        type: string
      call_id:
        description: OpenAI-compatible fields for specific item types
        type: string
      commands:
        description: For shell calls
        items:
          type: string
        type: array
      completed_at:
        type: string
      content:
        items:
          $ref: '#/definitions/conversation.Content'
        type: array
      created_at:
        type: string
      error:
        description: For failed calls
        type: string
      id:
        type: string
      incomplete_at:
        type: string
      incomplete_details:
        $ref: '#/definitions/conversation.IncompleteDetails'
      max_output_length:
        description: For shell calls
        type: integer
      name:
        description: For MCP tool calls - tool name
        type: string
      object:
        description: Always "conversation.item" for OpenAI compatibility
        type: string
      operation:
        additionalProperties: true
        description: For patch operations
        type: object
      output:
        description: For tool call outputs
        type: string
      pending_safety_checks:
        description: For computer calls
        items:
          $ref: '#/definitions/conversation.SafetyCheck'
        type: array
      rated_at:
        description: When rating was given
        type: string
      rating:
        allOf:
        - $ref: '#/definitions/conversation.ItemRating'
        description: User feedback/rating
      rating_comment:
        description: Optional comment with rating
        type: string
      reason:
        description: For MCP approval reason
        type: string
      role:
        $ref: '#/definitions/conversation.ItemRole'
      sequence_number:
        description: Order within branch
        type: integer
      server_label:
        description: For MCP calls
        type: string
      shell_outputs:
        description: For shell call outputs
        items:
          $ref: '#/definitions/conversation.ShellOutput'
        type: array
      status:
        $ref: '#/definitions/conversation.ItemStatus'
      tools:
        description: For mcp_list_tools
        items:
          $ref: '#/definitions/conversation.McpTool'
        type: array
      type:
        $ref: '#/definitions/conversation.ItemType'
    type: object
  image.ImageData:
    description: Single generated image data
    properties:
      b64_json:
        description: |-
          B64JSON is the base64-encoded image data.
          Present when response_format="b64_json".
        type: string
      id:
        description: ID is the Jan media ID (jan_xxxxx) for the stored image.
        example: jan_abc123
        type: string
      revised_prompt:
        description: RevisedPrompt is the revised prompt used for generation, if the
          provider modified it.
        type: string
      url:
        description: |-
          URL is the presigned URL to the generated image.
          Present when response_format="url".
        example: https://media.jan.ai/images/jan_abc123.png?sig=...
        type: string
    type: object
  image.ImageEditRequest:
    properties:
      cfg_scale:
        description: CfgScale is classifier-free guidance scale.
        example: 1
        type: number
      conversation_id:
        description: ConversationID optionally links this edit to a conversation.
        example: conv_abc123
        type: string
      image:
        allOf:
        - $ref: '#/definitions/image.ImageInput'
        description: Image is the input image to edit. Required.
      mask:
        allOf:
        - $ref: '#/definitions/image.ImageInput'
        description: Mask is an optional mask for inpainting.
      model:
        description: Model specifies the image edit model. Optional.
        example: qwen-image-edit
        type: string
      "n":
        description: N is the number of images to generate (only 1 supported by most
          providers).
        example: 1
        type: integer
      negative_prompt:
        description: NegativePrompt describes what to avoid.
        example: ' '
        type: string
      prompt:
        description: Prompt is the text instruction describing the edit. Required.
        example: add golden sunglasses
        type: string
      provider_id:
        description: ProviderID optionally overrides the default image edit provider.
        example: prov_abc123
        type: string
      response_format:
        description: ResponseFormat determines output format ("url" or "b64_json").
        example: b64_json
        type: string
      sampler:
        description: Sampler selects the sampling algorithm.
        example: euler
        type: string
      scheduler:
        description: Scheduler selects the scheduler.
        example: simple
        type: string
      seed:
        description: Seed sets random seed (-1 for random).
        example: -1
        type: integer
      size:
        description: Size specifies the output size ("original" or "WIDTHxHEIGHT").
        example: original
        type: string
      steps:
        description: Steps controls sampling steps.
        example: 4
        type: integer
      store:
        description: |-
          Store controls whether to save the result to the conversation.
          nil/true = store (default), false = don't store.
        example: true
        type: boolean
      strength:
        description: Strength controls edit intensity (0.0-1.0).
        example: 1
        type: number
    required:
    - image
    - prompt
    type: object
  image.ImageGenerationRequest:
    description: OpenAI-compatible image generation request
    properties:
      cfg_scale:
        description: CfgScale is a provider-specific parameter (z-image/Flux) for
          guidance scale.
        example: 7.5
        type: number
      conversation_id:
        description: ConversationID optionally links this generation to a conversation.
        example: conv_abc123
        type: string
      model:
        description: |-
          Model specifies the image generation model (e.g., "z-image", "flux-dev", "dall-e-3").
          If omitted, defaults to the configured default model.
        example: z-image
        type: string
      "n":
        description: 'N is the number of images to generate (1-10, default: 1).'
        example: 1
        type: integer
      num_inference_steps:
        description: NumInferenceSteps is a provider-specific parameter (z-image/Flux).
        example: 20
        type: integer
      prompt:
        description: Prompt is the text description of the desired image. Required.
        example: A serene mountain landscape at sunset
        type: string
      provider_id:
        description: ProviderID optionally overrides the default image provider selection.
        example: prov_abc123
        type: string
      quality:
        description: |-
          Quality determines image quality. Valid values: "standard", "hd".
          Default: "standard".
        example: standard
        type: string
      response_format:
        description: |-
          ResponseFormat determines output format. Valid values: "url", "b64_json".
          Default: "url".
        example: url
        type: string
      size:
        description: |-
          Size specifies the dimensions of the generated image.
          Supported sizes: "256x256", "512x512", "1024x1024", "1024x1792", "1792x1024".
          Default: "1024x1024".
        example: 1024x1024
        type: string
      store:
        description: |-
          Store controls whether to save the result to the conversation.
          nil/true = store (default), false = don't store.
        example: true
        type: boolean
      style:
        description: |-
          Style influences the visual aesthetic. Valid values: "vivid", "natural".
          Default: "natural".
        example: natural
        type: string
      user:
        description: User is an optional unique identifier representing the end-user
          for abuse monitoring.
        example: user-123
        type: string
    required:
    - prompt
    type: object
  image.ImageGenerationResponse:
    description: OpenAI-compatible image generation response
    properties:
      created:
        description: Created is the Unix timestamp of when the response was generated.
        example: 1699000000
        type: integer
      data:
        description: Data contains the generated images.
        items:
          $ref: '#/definitions/image.ImageData'
        type: array
      usage:
        allOf:
        - $ref: '#/definitions/image.ImageUsage'
        description: Usage contains token usage information for billing purposes.
    type: object
  image.ImageInput:
    properties:
      b64_json:
        description: B64JSON is base64-encoded image data (no data URL prefix).
        type: string
      id:
        description: ID is a Jan media ID (jan_*).
        example: jan_abc123
        type: string
      url:
        description: URL is a remote URL to the image.
        example: https://example.com/image.png
        type: string
    type: object
  image.ImageUsage:
    description: Token usage information for billing
    properties:
      input_tokens:
        description: InputTokens is the estimated tokens for the prompt.
        example: 100
        type: integer
      input_tokens_details:
        allOf:
        - $ref: '#/definitions/image.InputTokensDetail'
        description: InputTokensDetails provides a breakdown of input token types.
      output_tokens:
        description: OutputTokens is the estimated tokens for the generated images.
        example: 1400
        type: integer
      total_tokens:
        description: TotalTokens is the sum of input and output tokens.
        example: 1500
        type: integer
    type: object
  image.InputTokensDetail:
    description: Breakdown of input token types
    properties:
      image_tokens:
        description: ImageTokens is the number of tokens from input images (for edit/variation
          operations).
        example: 0
        type: integer
      text_tokens:
        description: TextTokens is the number of tokens from the text prompt.
        example: 100
        type: integer
    type: object
  mcptool.UpdateMCPToolRequest:
    properties:
      category:
        type: string
      description:
        type: string
      disallowed_keywords:
        description: Regex patterns
        items:
          type: string
        type: array
      is_active:
        type: boolean
      metadata:
        additionalProperties: {}
        type: object
    type: object
  mcptoolhandler.ActiveToolsResponse:
    properties:
      data:
        items:
          $ref: '#/definitions/mcptoolhandler.MCPToolResponse'
        type: array
    type: object
  mcptoolhandler.ListResponse:
    properties:
      data:
        items:
          $ref: '#/definitions/mcptoolhandler.MCPToolResponse'
        type: array
      total:
        type: integer
    type: object
  mcptoolhandler.MCPToolResponse:
    properties:
      category:
        type: string
      created_at:
        type: string
      description:
        type: string
      disallowed_keywords:
        items:
          type: string
        type: array
      id:
        type: string
      is_active:
        type: boolean
      metadata:
        additionalProperties: {}
        type: object
      name:
        type: string
      public_id:
        type: string
      tool_key:
        type: string
      updated_at:
        type: string
    type: object
  model.Architecture:
    properties:
      input_modalities:
        items:
          type: string
        type: array
      instruct_type:
        description: nullable
        type: string
      modality:
        description: '"text+image->text"'
        type: string
      output_modalities:
        items:
          type: string
        type: array
      tokenizer:
        description: '"GPT" / "SentencePiece" / etc.'
        type: string
    type: object
  model.ModelCatalogStatus:
    enum:
    - init
    - filled
    - updated
    type: string
    x-enum-comments:
      ModelCatalogStatusFilled: may update from Provider like OpenRouter
      ModelCatalogStatusInit: default status when creating entry
      ModelCatalogStatusUpdated: manually updated by admin (cannot be auto-updated
        anymore
    x-enum-varnames:
    - ModelCatalogStatusInit
    - ModelCatalogStatusFilled
    - ModelCatalogStatusUpdated
  model.PriceLine:
    properties:
      amount_micro_usd:
        description: e.g., 15000 -> $0.0150
        type: integer
      currency:
        description: '"USD" (fixed if you only bill in USD)'
        type: string
      unit:
        $ref: '#/definitions/model.PriceUnit'
    type: object
  model.PriceUnit:
    enum:
    - per_1k_prompt_tokens
    - per_1k_completion_tokens
    - per_request
    - per_image
    - per_web_search
    - per_internal_reasoning
    type: string
    x-enum-varnames:
    - Per1KPromptTokens
    - Per1KCompletionTokens
    - PerRequest
    - PerImage
    - PerWebSearch
    - PerInternalReasoning
  model.Pricing:
    properties:
      lines:
        description: 'flexible: add/remove units without schema churn'
        items:
          $ref: '#/definitions/model.PriceLine'
        type: array
    type: object
  model.SupportedParameters:
    properties:
      default:
        additionalProperties:
          type: number
        description: temperature/top_p/frequency_penalty, null allowed
        type: object
      names:
        description: e.g., ["include_reasoning","max_tokens",...]
        items:
          type: string
        type: array
    type: object
  model.TokenLimits:
    properties:
      context_length:
        description: e.g., 400000
        type: integer
      max_completion_tokens:
        description: e.g., 128000
        type: integer
    type: object
  modelprompthandler.AssignRequest:
    properties:
      is_active:
        type: boolean
      priority:
        type: integer
      prompt_template_id:
        type: string
      template_key:
        type: string
    required:
    - prompt_template_id
    - template_key
    type: object
  modelprompthandler.EffectiveTemplateResponse:
    properties:
      source:
        description: '"model_specific", "global_default", "hardcoded"'
        type: string
      template:
        $ref: '#/definitions/modelprompthandler.FullPromptTemplateResponse'
    type: object
  modelprompthandler.EffectiveTemplatesResponse:
    properties:
      templates:
        additionalProperties:
          $ref: '#/definitions/modelprompthandler.EffectiveTemplateResponse'
        type: object
    type: object
  modelprompthandler.FullPromptTemplateResponse:
    properties:
      category:
        type: string
      content:
        type: string
      description:
        type: string
      is_active:
        type: boolean
      is_system:
        type: boolean
      metadata:
        additionalProperties: {}
        type: object
      name:
        type: string
      public_id:
        type: string
      template_key:
        type: string
      variables:
        items:
          type: string
        type: array
      version:
        type: integer
    type: object
  modelprompthandler.ListResponse:
    properties:
      data:
        items:
          $ref: '#/definitions/modelprompthandler.ModelPromptTemplateResponse'
        type: array
      total:
        type: integer
    type: object
  modelprompthandler.ModelPromptTemplateResponse:
    properties:
      created_at:
        type: string
      id:
        type: string
      is_active:
        type: boolean
      model_catalog_id:
        type: string
      priority:
        type: integer
      prompt_template:
        $ref: '#/definitions/modelprompthandler.PromptTemplateResponse'
      prompt_template_id:
        type: string
      template_key:
        type: string
      updated_at:
        type: string
    type: object
  modelprompthandler.PromptTemplateResponse:
    properties:
      category:
        type: string
      description:
        type: string
      is_active:
        type: boolean
      name:
        type: string
      public_id:
        type: string
      template_key:
        type: string
    type: object
  modelprompthandler.UpdateRequest:
    properties:
      is_active:
        type: boolean
      priority:
        type: integer
      prompt_template_id:
        type: string
    type: object
  modelresponses.BulkOperationResponse:
    properties:
      failed_count:
        type: integer
      failed_models:
        items:
          type: string
        type: array
      skipped_count:
        type: integer
      total_checked:
        type: integer
      updated_count:
        type: integer
    type: object
  modelresponses.EndpointResponse:
    properties:
      healthy:
        type: boolean
      priority:
        type: integer
      url:
        type: string
      weight:
        type: integer
    type: object
  modelresponses.ModelCatalogResponse:
    properties:
      active:
        type: boolean
      architecture:
        $ref: '#/definitions/model.Architecture'
      context_length:
        type: integer
      created_at:
        type: integer
      description:
        type: string
      experimental:
        type: boolean
      extras:
        additionalProperties: {}
        type: object
      family:
        type: string
      id:
        type: string
      is_moderated:
        type: boolean
      last_synced_at:
        type: integer
      model_display_name:
        type: string
      notes:
        type: string
      public_id:
        type: string
      requires_feature_flag:
        type: string
      status:
        $ref: '#/definitions/model.ModelCatalogStatus'
      supported_parameters:
        $ref: '#/definitions/model.SupportedParameters'
      supports_audio:
        type: boolean
      supports_browser:
        type: boolean
      supports_embeddings:
        type: boolean
      supports_images:
        type: boolean
      supports_instruct:
        type: boolean
      supports_reasoning:
        type: boolean
      supports_tools:
        type: boolean
      supports_video:
        type: boolean
      tags:
        items:
          type: string
        type: array
      updated_at:
        type: integer
    type: object
  modelresponses.ModelResponse:
    properties:
      category:
        type: string
      category_order_number:
        type: integer
      created:
        type: integer
      id:
        type: string
      model_display_name:
        type: string
      model_order_number:
        type: integer
      object:
        type: string
      owned_by:
        type: string
    type: object
  modelresponses.ModelResponseList:
    properties:
      data:
        items:
          $ref: '#/definitions/modelresponses.ModelResponse'
        type: array
      object:
        type: string
    type: object
  modelresponses.ModelResponseWithProvider:
    properties:
      category:
        type: string
      category_order_number:
        type: integer
      created:
        type: integer
      id:
        type: string
      model_display_name:
        type: string
      model_order_number:
        type: integer
      object:
        type: string
      owned_by:
        type: string
      provider_id:
        type: string
      provider_name:
        type: string
      provider_vendor:
        type: string
    type: object
  modelresponses.ModelWithProviderResponseList:
    properties:
      data:
        items:
          $ref: '#/definitions/modelresponses.ModelResponseWithProvider'
        type: array
      object:
        type: string
    type: object
  modelresponses.ProviderModelResponse:
    properties:
      active:
        type: boolean
      category:
        type: string
      category_order_number:
        type: integer
      created_at:
        type: integer
      family:
        type: string
      id:
        type: string
      instruct_model_public_id:
        description: Public ID of the instruct model to use when enable_thinking=false
        type: string
      model_catalog_id:
        type: string
      model_display_name:
        type: string
      model_order_number:
        type: integer
      model_public_id:
        type: string
      pricing:
        $ref: '#/definitions/model.Pricing'
      provider_id:
        type: string
      provider_original_model_id:
        type: string
      provider_vendor:
        type: string
      supports_audio:
        type: boolean
      supports_embeddings:
        type: boolean
      supports_images:
        type: boolean
      supports_instruct:
        type: boolean
      supports_reasoning:
        type: boolean
      supports_video:
        type: boolean
      token_limits:
        $ref: '#/definitions/model.TokenLimits'
      updated_at:
        type: integer
    type: object
  modelresponses.ProviderResponse:
    properties:
      active:
        type: boolean
      base_url:
        type: string
      default_provider_image_edit:
        type: boolean
      default_provider_image_generate:
        type: boolean
      endpoints:
        items:
          $ref: '#/definitions/modelresponses.EndpointResponse'
        type: array
      id:
        type: string
      metadata:
        additionalProperties:
          type: string
        type: object
      name:
        type: string
      vendor:
        type: string
    type: object
  modelresponses.ProviderResponseList:
    properties:
      data:
        items:
          $ref: '#/definitions/modelresponses.ProviderResponse'
        type: array
      object:
        type: string
    type: object
  modelresponses.ProviderWithModelCountResponse:
    properties:
      active:
        type: boolean
      base_url:
        type: string
      default_provider_image_edit:
        type: boolean
      default_provider_image_generate:
        type: boolean
      endpoints:
        items:
          $ref: '#/definitions/modelresponses.EndpointResponse'
        type: array
      id:
        type: string
      metadata:
        additionalProperties:
          type: string
        type: object
      model_active_count:
        type: integer
      model_count:
        type: integer
      name:
        type: string
      vendor:
        type: string
    type: object
  modelresponses.ProviderWithModelsResponse:
    properties:
      active:
        type: boolean
      base_url:
        type: string
      default_provider_image_edit:
        type: boolean
      default_provider_image_generate:
        type: boolean
      endpoints:
        items:
          $ref: '#/definitions/modelresponses.EndpointResponse'
        type: array
      id:
        type: string
      metadata:
        additionalProperties:
          type: string
        type: object
      models:
        items:
          $ref: '#/definitions/modelresponses.ModelResponse'
        type: array
      name:
        type: string
      vendor:
        type: string
    type: object
  openai.ChatCompletionChoice:
    properties:
      content_filter_results:
        $ref: '#/definitions/openai.ContentFilterResults'
      finish_reason:
        allOf:
        - $ref: '#/definitions/openai.FinishReason'
        description: |-
          FinishReason
          stop: API returned complete message,
          or a message terminated by one of the stop sequences provided via the stop parameter
          length: Incomplete model output due to max_tokens parameter or token limit
          function_call: The model decided to call a function
          content_filter: Omitted content due to a flag from our content filters
          null: API response still in progress or incomplete
      index:
        type: integer
      logprobs:
        $ref: '#/definitions/openai.LogProbs'
      message:
        $ref: '#/definitions/openai.ChatCompletionMessage'
    type: object
  openai.ChatCompletionMessage:
    properties:
      content:
        type: string
      function_call:
        $ref: '#/definitions/openai.FunctionCall'
      multiContent:
        items:
          $ref: '#/definitions/openai.ChatMessagePart'
        type: array
      name:
        description: |-
          This property isn't in the official documentation, but it's in
          the documentation for the official library for python:
          - https://github.com/openai/openai-python/blob/main/chatml.md
          - https://github.com/openai/openai-cookbook/blob/main/examples/How_to_count_tokens_with_tiktoken.ipynb
        type: string
      reasoning_content:
        description: |-
          This property is used for the "reasoning" feature supported by deepseek-reasoner
          which is not in the official documentation.
          the doc from deepseek:
          - https://api-docs.deepseek.com/api/create-chat-completion#responses
        type: string
      refusal:
        type: string
      role:
        type: string
      tool_call_id:
        description: For Role=tool prompts this should be set to the ID given in the
          assistant's prior request to call a tool.
        type: string
      tool_calls:
        description: For Role=assistant prompts this may be set to the tool calls
          generated by the model, such as function calls.
        items:
          $ref: '#/definitions/openai.ToolCall'
        type: array
    type: object
  openai.ChatCompletionResponseFormat:
    properties:
      json_schema:
        $ref: '#/definitions/openai.ChatCompletionResponseFormatJSONSchema'
      type:
        $ref: '#/definitions/openai.ChatCompletionResponseFormatType'
    type: object
  openai.ChatCompletionResponseFormatJSONSchema:
    properties:
      description:
        type: string
      name:
        type: string
      schema: {}
      strict:
        type: boolean
    type: object
  openai.ChatCompletionResponseFormatType:
    enum:
    - json_object
    - json_schema
    - text
    type: string
    x-enum-varnames:
    - ChatCompletionResponseFormatTypeJSONObject
    - ChatCompletionResponseFormatTypeJSONSchema
    - ChatCompletionResponseFormatTypeText
  openai.ChatMessageImageURL:
    properties:
      detail:
        $ref: '#/definitions/openai.ImageURLDetail'
      url:
        type: string
    type: object
  openai.ChatMessagePart:
    properties:
      image_url:
        $ref: '#/definitions/openai.ChatMessageImageURL'
      text:
        type: string
      type:
        $ref: '#/definitions/openai.ChatMessagePartType'
    type: object
  openai.ChatMessagePartType:
    enum:
    - text
    - image_url
    type: string
    x-enum-varnames:
    - ChatMessagePartTypeText
    - ChatMessagePartTypeImageURL
  openai.CompletionTokensDetails:
    properties:
      accepted_prediction_tokens:
        type: integer
      audio_tokens:
        type: integer
      reasoning_tokens:
        type: integer
      rejected_prediction_tokens:
        type: integer
    type: object
  openai.ContentFilterResults:
    properties:
      hate:
        $ref: '#/definitions/openai.Hate'
      jailbreak:
        $ref: '#/definitions/openai.JailBreak'
      profanity:
        $ref: '#/definitions/openai.Profanity'
      self_harm:
        $ref: '#/definitions/openai.SelfHarm'
      sexual:
        $ref: '#/definitions/openai.Sexual'
      violence:
        $ref: '#/definitions/openai.Violence'
    type: object
  openai.FinishReason:
    enum:
    - stop
    - length
    - function_call
    - tool_calls
    - content_filter
    - "null"
    type: string
    x-enum-varnames:
    - FinishReasonStop
    - FinishReasonLength
    - FinishReasonFunctionCall
    - FinishReasonToolCalls
    - FinishReasonContentFilter
    - FinishReasonNull
  openai.FunctionCall:
    properties:
      arguments:
        description: call function with arguments in JSON format
        type: string
      name:
        type: string
    type: object
  openai.FunctionDefinition:
    properties:
      description:
        type: string
      name:
        type: string
      parameters:
        description: |-
          Parameters is an object describing the function.
          You can pass json.RawMessage to describe the schema,
          or you can pass in a struct which serializes to the proper JSON schema.
          The jsonschema package is provided for convenience, but you should
          consider another specialized library if you require more complex schemas.
      strict:
        type: boolean
    type: object
  openai.Hate:
    properties:
      filtered:
        type: boolean
      severity:
        type: string
    type: object
  openai.ImageURLDetail:
    enum:
    - high
    - low
    - auto
    type: string
    x-enum-varnames:
    - ImageURLDetailHigh
    - ImageURLDetailLow
    - ImageURLDetailAuto
  openai.JailBreak:
    properties:
      detected:
        type: boolean
      filtered:
        type: boolean
    type: object
  openai.LogProb:
    properties:
      bytes:
        description: Omitting the field if it is null
        items:
          type: integer
        type: array
      logprob:
        type: number
      token:
        type: string
      top_logprobs:
        description: |-
          TopLogProbs is a list of the most likely tokens and their log probability, at this token position.
          In rare cases, there may be fewer than the number of requested top_logprobs returned.
        items:
          $ref: '#/definitions/openai.TopLogProbs'
        type: array
    type: object
  openai.LogProbs:
    properties:
      content:
        description: Content is a list of message content tokens with log probability
          information.
        items:
          $ref: '#/definitions/openai.LogProb'
        type: array
    type: object
  openai.Prediction:
    properties:
      content:
        type: string
      type:
        type: string
    type: object
  openai.Profanity:
    properties:
      detected:
        type: boolean
      filtered:
        type: boolean
    type: object
  openai.PromptFilterResult:
    properties:
      content_filter_results:
        $ref: '#/definitions/openai.ContentFilterResults'
      index:
        type: integer
    type: object
  openai.PromptTokensDetails:
    properties:
      audio_tokens:
        type: integer
      cached_tokens:
        type: integer
    type: object
  openai.SelfHarm:
    properties:
      filtered:
        type: boolean
      severity:
        type: string
    type: object
  openai.ServiceTier:
    enum:
    - auto
    - default
    - flex
    - priority
    type: string
    x-enum-varnames:
    - ServiceTierAuto
    - ServiceTierDefault
    - ServiceTierFlex
    - ServiceTierPriority
  openai.Sexual:
    properties:
      filtered:
        type: boolean
      severity:
        type: string
    type: object
  openai.StreamOptions:
    properties:
      include_usage:
        description: |-
          If set, an additional chunk will be streamed before the data: [DONE] message.
          The usage field on this chunk shows the token usage statistics for the entire request,
          and the choices field will always be an empty array.
          All other chunks will also include a usage field, but with a null value.
        type: boolean
    type: object
  openai.Tool:
    properties:
      function:
        $ref: '#/definitions/openai.FunctionDefinition'
      type:
        $ref: '#/definitions/openai.ToolType'
    type: object
  openai.ToolCall:
    properties:
      function:
        $ref: '#/definitions/openai.FunctionCall'
      id:
        type: string
      index:
        description: Index is not nil only in chat completion chunk object
        type: integer
      type:
        $ref: '#/definitions/openai.ToolType'
    type: object
  openai.ToolType:
    enum:
    - function
    type: string
    x-enum-varnames:
    - ToolTypeFunction
  openai.TopLogProbs:
    properties:
      bytes:
        items:
          type: integer
        type: array
      logprob:
        type: number
      token:
        type: string
    type: object
  openai.Usage:
    properties:
      completion_tokens:
        type: integer
      completion_tokens_details:
        $ref: '#/definitions/openai.CompletionTokensDetails'
      prompt_tokens:
        type: integer
      prompt_tokens_details:
        $ref: '#/definitions/openai.PromptTokensDetails'
      total_tokens:
        type: integer
    type: object
  openai.Violence:
    properties:
      filtered:
        type: boolean
      severity:
        type: string
    type: object
  projectreq.CreateProjectRequest:
    properties:
      instruction:
        type: string
      name:
        type: string
    required:
    - name
    type: object
  projectreq.UpdateProjectRequest:
    properties:
      instruction:
        type: string
      is_archived:
        type: boolean
      is_favorite:
        type: boolean
      name:
        type: string
    type: object
  projectres.ProjectDeletedResponse:
    properties:
      deleted:
        type: boolean
      id:
        type: string
      object:
        type: string
    type: object
  projectres.ProjectListResponse:
    properties:
      data:
        items:
          $ref: '#/definitions/projectres.ProjectResponse'
        type: array
      first_id:
        type: string
      has_more:
        type: boolean
      last_id:
        type: string
      next_cursor:
        type: string
      object:
        type: string
      total:
        type: integer
    type: object
  projectres.ProjectResponse:
    properties:
      archived_at:
        type: integer
      created_at:
        type: integer
      id:
        type: string
      instruction:
        type: string
      is_archived:
        type: boolean
      is_favorite:
        type: boolean
      name:
        type: string
      object:
        type: string
      updated_at:
        type: integer
    type: object
  prompttemplate.CreatePromptTemplateRequest:
    properties:
      category:
        maxLength: 100
        minLength: 1
        type: string
      content:
        minLength: 1
        type: string
      description:
        type: string
      metadata:
        additionalProperties: {}
        type: object
      name:
        maxLength: 255
        minLength: 1
        type: string
      template_key:
        maxLength: 100
        minLength: 1
        type: string
      variables:
        items:
          type: string
        type: array
    required:
    - category
    - content
    - name
    - template_key
    type: object
  prompttemplate.UpdatePromptTemplateRequest:
    properties:
      category:
        maxLength: 100
        minLength: 1
        type: string
      content:
        minLength: 1
        type: string
      description:
        type: string
      is_active:
        type: boolean
      metadata:
        additionalProperties: {}
        type: object
      name:
        maxLength: 255
        minLength: 1
        type: string
      variables:
        items:
          type: string
        type: array
    type: object
  prompttemplatehandler.DuplicateRequest:
    properties:
      new_name:
        maxLength: 200
        type: string
    type: object
  prompttemplatehandler.ListResponse:
    properties:
      data:
        items:
          $ref: '#/definitions/prompttemplatehandler.PromptTemplateResponse'
        type: array
      total:
        type: integer
    type: object
  prompttemplatehandler.PromptTemplateResponse:
    properties:
      category:
        type: string
      content:
        type: string
      created_at:
        type: string
      description:
        type: string
      id:
        type: string
      is_active:
        type: boolean
      is_system:
        type: boolean
      metadata:
        additionalProperties: {}
        type: object
      name:
        type: string
      public_id:
        type: string
      template_key:
        type: string
      updated_at:
        type: string
      variables:
        items:
          type: string
        type: array
      version:
        type: integer
    type: object
  requestmodels.AddProviderRequest:
    properties:
      active:
        type: boolean
      api_key:
        type: string
      base_url:
        type: string
      category:
        description: '"llm" or "image", defaults to "llm"'
        type: string
      default_provider_image_edit:
        type: boolean
      default_provider_image_generate:
        type: boolean
      endpoints:
        items:
          $ref: '#/definitions/requestmodels.EndpointDTO'
        type: array
      metadata:
        additionalProperties:
          type: string
        type: object
      name:
        type: string
      url:
        type: string
      vendor:
        type: string
    required:
    - name
    - vendor
    type: object
  requestmodels.BulkEnableModelsRequest:
    properties:
      enable:
        description: 'Required: true to enable, false to disable'
        type: boolean
      except_models:
        description: List of model keys to exclude
        items:
          type: string
        type: array
      provider_id:
        description: 'Optional: filter by provider'
        minLength: 1
        type: string
    required:
    - enable
    type: object
  requestmodels.BulkToggleCatalogsRequest:
    properties:
      catalog_ids:
        description: 'Optional: specific catalog public IDs. If empty, applies to
          all catalogs'
        items:
          type: string
        type: array
      enable:
        description: 'Required: true to enable, false to disable'
        type: boolean
      except_models:
        description: List of model keys to exclude from the operation
        items:
          type: string
        type: array
    required:
    - enable
    type: object
  requestmodels.EndpointDTO:
    properties:
      priority:
        type: integer
      url:
        type: string
      weight:
        type: integer
    type: object
  requestmodels.UpdateModelCatalogRequest:
    properties:
      active:
        type: boolean
      architecture:
        $ref: '#/definitions/model.Architecture'
      context_length:
        type: number
      description:
        type: string
      experimental:
        type: boolean
      extras:
        additionalProperties: {}
        type: object
      family:
        type: string
      is_moderated:
        type: boolean
      model_display_name:
        type: string
      notes:
        type: string
      requires_feature_flag:
        type: string
      supported_parameters:
        $ref: '#/definitions/model.SupportedParameters'
      supports_audio:
        type: boolean
      supports_browser:
        type: boolean
      supports_embeddings:
        type: boolean
      supports_images:
        type: boolean
      supports_instruct:
        type: boolean
      supports_reasoning:
        type: boolean
      supports_tools:
        type: boolean
      supports_video:
        type: boolean
      tags:
        items:
          type: string
        type: array
    type: object
  requestmodels.UpdateProviderModelRequest:
    properties:
      active:
        type: boolean
      category:
        type: string
      category_order_number:
        type: integer
      family:
        type: string
      instruct_model_public_id:
        description: Public ID of the instruct model to use when enable_thinking=false
        type: string
      model_display_name:
        type: string
      model_order_number:
        type: integer
      pricing:
        $ref: '#/definitions/model.Pricing'
      supports_audio:
        type: boolean
      supports_embeddings:
        type: boolean
      supports_images:
        type: boolean
      supports_reasoning:
        type: boolean
      supports_video:
        type: boolean
      token_limits:
        $ref: '#/definitions/model.TokenLimits'
    type: object
  requestmodels.UpdateProviderRequest:
    properties:
      active:
        type: boolean
      api_key:
        type: string
      base_url:
        type: string
      default_provider_image_edit:
        type: boolean
      default_provider_image_generate:
        type: boolean
      endpoints:
        items:
          $ref: '#/definitions/requestmodels.EndpointDTO'
        type: array
      metadata:
        additionalProperties:
          type: string
        type: object
      name:
        type: string
      url:
        type: string
    type: object
  responses.ErrorResponse:
    properties:
      code:
        description: UUID from PlatformError
        type: string
      error:
        type: string
      message:
        type: string
      request_id:
        type: string
    type: object
  sharerequests.CreateShareRequest:
    properties:
      branch:
        description: Branch to share from (defaults to active branch)
        type: string
      include_context_messages:
        description: For single-message share
        type: boolean
      include_images:
        type: boolean
      item_id:
        description: Required if scope is "item"
        type: string
      scope:
        description: '"conversation" or "item"'
        enum:
        - conversation
        - item
        type: string
      title:
        type: string
    required:
    - scope
    type: object
  shareresponses.AnnotationResp:
    properties:
      end_index:
        type: integer
      file_id:
        type: string
      start_index:
        type: integer
      text:
        type: string
      type:
        type: string
      url:
        type: string
    type: object
  shareresponses.FileRefResp:
    properties:
      file_id:
        type: string
      mime_type:
        type: string
      name:
        type: string
      url:
        description: For data URLs or external image URLs
        type: string
    type: object
  shareresponses.ImageRefResp:
    properties:
      detail:
        type: string
      file_id:
        type: string
      url:
        type: string
    type: object
  shareresponses.PublicShareResponse:
    properties:
      created_at:
        type: integer
      object:
        type: string
      slug:
        type: string
      snapshot:
        $ref: '#/definitions/shareresponses.SnapshotResp'
      title:
        type: string
    type: object
  shareresponses.ShareDeletedResponse:
    properties:
      deleted:
        type: boolean
      id:
        type: string
      object:
        type: string
    type: object
  shareresponses.ShareListResponse:
    properties:
      data:
        items:
          $ref: '#/definitions/shareresponses.ShareResponse'
        type: array
      object:
        type: string
    type: object
  shareresponses.ShareOptionsResp:
    properties:
      include_context_messages:
        type: boolean
      include_images:
        type: boolean
    type: object
  shareresponses.ShareResponse:
    properties:
      created_at:
        type: integer
      id:
        type: string
      item_id:
        type: string
      last_viewed_at:
        type: integer
      object:
        type: string
      revoked_at:
        type: integer
      share_options:
        $ref: '#/definitions/shareresponses.ShareOptionsResp'
      share_url:
        type: string
      slug:
        type: string
      snapshot_version:
        type: integer
      title:
        type: string
      updated_at:
        type: integer
      view_count:
        type: integer
      visibility:
        type: string
    type: object
  shareresponses.SnapshotContentResp:
    properties:
      annotations:
        items:
          $ref: '#/definitions/shareresponses.AnnotationResp'
        type: array
      file_ref:
        $ref: '#/definitions/shareresponses.FileRefResp'
      image:
        $ref: '#/definitions/shareresponses.ImageRefResp'
      input_text:
        type: string
      output_text:
        type: string
      text:
        type: string
      type:
        type: string
    type: object
  shareresponses.SnapshotItemResp:
    properties:
      content:
        items:
          $ref: '#/definitions/shareresponses.SnapshotContentResp'
        type: array
      created_at:
        type: integer
      id:
        type: string
      role:
        type: string
      type:
        type: string
    type: object
  shareresponses.SnapshotResp:
    properties:
      assistant_name:
        type: string
      created_at:
        type: integer
      items:
        items:
          $ref: '#/definitions/shareresponses.SnapshotItemResp'
        type: array
      model_name:
        type: string
      title:
        type: string
    type: object
  tokenusage.DailyAggregate:
    properties:
      date:
        type: string
      estimated_cost_usd:
        type: number
      request_count:
        type: integer
      total_completion_tokens:
        type: integer
      total_prompt_tokens:
        type: integer
      total_tokens:
        type: integer
    type: object
  tokenusage.Period:
    properties:
      end_date:
        type: string
      start_date:
        type: string
    type: object
  tokenusage.PlatformUsageResponse:
    properties:
      by_model:
        items:
          $ref: '#/definitions/tokenusage.UsageSummary'
        type: array
      by_provider:
        items:
          $ref: '#/definitions/tokenusage.UsageSummary'
        type: array
      period:
        $ref: '#/definitions/tokenusage.Period'
      top_users:
        items:
          $ref: '#/definitions/tokenusage.UserUsage'
        type: array
      total_usage:
        $ref: '#/definitions/tokenusage.UsageSummary'
    type: object
  tokenusage.UsageResponse:
    properties:
      by_model:
        items:
          $ref: '#/definitions/tokenusage.UsageSummary'
        type: array
      by_provider:
        items:
          $ref: '#/definitions/tokenusage.UsageSummary'
        type: array
      period:
        $ref: '#/definitions/tokenusage.Period'
      total_usage:
        $ref: '#/definitions/tokenusage.UsageSummary'
    type: object
  tokenusage.UsageSummary:
    properties:
      estimated_cost_usd:
        type: number
      model:
        type: string
      provider:
        type: string
      request_count:
        type: integer
      total_completion_tokens:
        type: integer
      total_prompt_tokens:
        type: integer
      total_tokens:
        type: integer
    type: object
  tokenusage.UserUsage:
    properties:
      estimated_cost_usd:
        type: number
      request_count:
        type: integer
      total_completion_tokens:
        type: integer
      total_prompt_tokens:
        type: integer
      total_tokens:
        type: integer
      user_id:
        type: string
    type: object
  usersettings.AdvancedSettings:
    properties:
      code_enabled:
        description: Enable code execution features
        type: boolean
      web_search:
        description: Let Jan automatically search the web for answers
        type: boolean
    type: object
  usersettings.BaseStyle:
    enum:
    - Concise
    - Friendly
    - Professional
    type: string
    x-enum-varnames:
    - BaseStyleConcise
    - BaseStyleFriendly
    - BaseStyleProfessional
  usersettings.MemoryConfig:
    properties:
      enabled:
        type: boolean
      inject_episodic:
        type: boolean
      inject_semantic:
        type: boolean
      inject_user_core:
        type: boolean
      max_episodic_items:
        type: integer
      max_project_items:
        type: integer
      max_user_items:
        type: integer
      min_similarity:
        type: number
      observe_enabled:
        type: boolean
    type: object
  usersettings.ProfileSettings:
    properties:
      base_style:
        allOf:
        - $ref: '#/definitions/usersettings.BaseStyle'
        description: 'Conversation style: Concise, Friendly, or Professional'
      custom_instructions:
        description: Additional behavior, style, and tone preferences
        type: string
      more_about_you:
        description: Additional information about the user
        type: string
      nick_name:
        description: 'What should Jan call you? (alias: nickname)'
        type: string
      occupation:
        description: User's occupation
        type: string
    type: object
  usersettings.UpdateRequest:
    properties:
      advanced_settings:
        $ref: '#/definitions/usersettings.AdvancedSettings'
      enable_tools:
        type: boolean
      enable_trace:
        type: boolean
      memory_config:
        $ref: '#/definitions/usersettings.MemoryConfig'
      preferences:
        additionalProperties: true
        type: object
      profile_settings:
        $ref: '#/definitions/usersettings.ProfileSettings'
    type: object
  usersettingshandler.PreferencesResponse:
    properties:
      preferences:
        additionalProperties: true
        type: object
    type: object
  usersettingshandler.ServerCapabilities:
    properties:
      image_generation_enabled:
        type: boolean
    type: object
  usersettingshandler.UpdatePreferencesRequest:
    properties:
      preferences:
        additionalProperties: true
        type: object
    type: object
  usersettingshandler.UserSettingsResponse:
    properties:
      advanced_settings:
        $ref: '#/definitions/usersettings.AdvancedSettings'
      created_at:
        type: string
      enable_tools:
        type: boolean
      enable_trace:
        type: boolean
      id:
        type: integer
      memory_config:
        $ref: '#/definitions/usersettings.MemoryConfig'
      preferences:
        additionalProperties: true
        type: object
      profile_settings:
        $ref: '#/definitions/usersettings.ProfileSettings'
      server_capabilities:
        $ref: '#/definitions/usersettingshandler.ServerCapabilities'
      updated_at:
        type: string
      user_id:
        type: integer
    type: object
info:
  contact:
    name: Jan Server Team
    url: https://github.com/janhq/jan-server
  description: OpenAI-compatible LLM API platform with enterprise authentication,
    conversation management, and streaming support.
  title: Jan Server LLM API
  version: "2.0"
paths:
  /auth/api-keys:
    get:
      consumes:
      - application/json
      description: Returns all API keys created by the authenticated user. Key values
        are not returned, only metadata.
      produces:
      - application/json
      responses:
        "200":
          description: List of API keys with metadata
          schema:
            type: object
        "401":
          description: Unauthorized - invalid or expired token
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
      security:
      - BearerAuth: []
      summary: List user's API keys
      tags:
      - Authentication API
    post:
      consumes:
      - application/json
      description: Creates a new API key for the authenticated user. API keys provide
        programmatic access without requiring user credentials.
      parameters:
      - description: API key creation request with name and optional scopes
        in: body
        name: request
        required: true
        schema:
          type: object
      produces:
      - application/json
      responses:
        "201":
          description: API key created successfully with key value
          schema:
            type: object
        "400":
          description: Invalid request - missing required fields
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
        "401":
          description: Unauthorized - invalid or expired token
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Create API key
      tags:
      - Authentication API
  /auth/api-keys/{id}:
    delete:
      consumes:
      - application/json
      description: Revokes and deletes an API key by ID. Deleted keys can no longer
        be used for authentication.
      parameters:
      - description: API key ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "204":
          description: API key deleted successfully
        "401":
          description: Unauthorized - invalid or expired token
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
        "404":
          description: API key not found
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Delete API key
      tags:
      - Authentication API
  /auth/callback:
    get:
      consumes:
      - application/json
      description: Handles the OAuth2 callback from Keycloak, exchanges authorization
        code for JWT tokens
      parameters:
      - description: Authorization code from Keycloak
        in: query
        name: code
        required: true
        type: string
      - description: State parameter for CSRF protection
        in: query
        name: state
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: JWT tokens
          schema:
            properties:
              access_token:
                type: string
              expires_in:
                type: integer
              refresh_token:
                type: string
              token_type:
                type: string
            type: object
        "400":
          description: Missing code or state
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
        "401":
          description: Invalid state parameter
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
        "500":
          description: Failed to exchange code for tokens
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
      summary: Handle Keycloak OAuth2 callback
      tags:
      - Authentication API
  /auth/guest-login:
    post:
      consumes:
      - application/json
      description: Creates a temporary guest user account and returns JWT tokens.
        Guest users have limited access and can be upgraded to full accounts later.
      produces:
      - application/json
      responses:
        "200":
          description: Guest user created with access and refresh tokens
          schema:
            type: object
        "500":
          description: Internal server error - failed to create guest user
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
      summary: Create guest user account
      tags:
      - Authentication API
  /auth/keycloak/callback:
    get:
      consumes:
      - application/json
      description: Handles the OAuth2 callback from Keycloak, exchanges authorization
        code for tokens using PKCE
      parameters:
      - description: Authorization code from Keycloak
        in: query
        name: code
        required: true
        type: string
      - description: State parameter for CSRF protection
        in: query
        name: state
        required: true
        type: string
      - description: Frontend URL to redirect after successful authentication
        in: query
        name: redirect_url
        type: string
      - description: Error from Keycloak (if authentication failed)
        in: query
        name: error
        type: string
      - description: Error description from Keycloak
        in: query
        name: error_description
        type: string
      produces:
      - application/json
      responses:
        "302":
          description: Redirects to frontend URL with tokens in URL fragment
        "400":
          description: Missing code or state, or Keycloak error
          schema:
            properties:
              error:
                type: string
            type: object
        "401":
          description: Invalid state parameter
          schema:
            properties:
              error:
                type: string
            type: object
        "500":
          description: Failed to exchange code for tokens
          schema:
            properties:
              error:
                type: string
            type: object
      summary: Handle Keycloak OAuth2 callback
      tags:
      - Authentication API
  /auth/keycloak/login:
    get:
      consumes:
      - application/json
      description: Redirects the user to Keycloak's authorization endpoint to authenticate.
        Returns the authorization URL for frontend redirection with PKCE.
      parameters:
      - description: URL to redirect after successful login
        in: query
        name: redirect_url
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Authorization URL and state parameter
          schema:
            properties:
              authorization_url:
                type: string
              state:
                type: string
            type: object
        "500":
          description: Failed to generate state or PKCE parameters
          schema:
            properties:
              error:
                type: string
            type: object
      summary: Initiate Keycloak OAuth2 login
      tags:
      - Authentication API
  /auth/login:
    get:
      consumes:
      - application/json
      description: Returns the Keycloak authorization URL for frontend to redirect
        users. Supports OAuth2 authorization code flow with PKCE.
      parameters:
      - description: URL to redirect after successful login
        in: query
        name: redirect_url
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Authorization URL and state parameter
          schema:
            properties:
              authorization_url:
                type: string
              state:
                type: string
            type: object
        "500":
          description: Failed to initiate login
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
      summary: Initiate Keycloak OAuth2 login
      tags:
      - Authentication API
  /auth/logout:
    get:
      consumes:
      - application/json
      description: Revokes the current access token and clears authentication cookies.
        After logout, the user must re-authenticate.
      produces:
      - application/json
      responses:
        "200":
          description: Successfully logged out
          schema:
            type: object
        "401":
          description: Unauthorized - invalid token
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Logout user
      tags:
      - Authentication API
  /auth/me:
    get:
      consumes:
      - application/json
      description: Returns the authenticated user's profile information including
        user ID, email, roles, and guest status.
      produces:
      - application/json
      responses:
        "200":
          description: User profile information
          schema:
            type: object
        "401":
          description: Unauthorized - invalid or expired token
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get current user information
      tags:
      - Authentication API
  /auth/refresh-token:
    post:
      consumes:
      - application/json
      description: Exchanges a valid refresh token for a new access token. Refresh
        token must be provided in Authorization header or refresh_token cookie.
      parameters:
      - description: Refresh token (can also be in Authorization header)
        in: body
        name: refresh_token
        schema:
          type: string
      produces:
      - application/json
      responses:
        "200":
          description: New access token and refresh token
          schema:
            type: object
        "401":
          description: Unauthorized - invalid or expired refresh token
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
      summary: Refresh access token
      tags:
      - Authentication API
  /auth/revoke:
    post:
      consumes:
      - application/json
      description: Revokes a refresh token to invalidate it
      parameters:
      - description: Token to revoke
        in: body
        name: request
        required: true
        schema:
          properties:
            refresh_token:
              type: string
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: Token revoked successfully
          schema:
            properties:
              message:
                type: string
            type: object
        "400":
          description: Invalid request body
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
        "500":
          description: Keycloak OAuth is not configured
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
      summary: Revoke Keycloak refresh token
      tags:
      - Authentication API
  /auth/upgrade:
    post:
      consumes:
      - application/json
      description: Converts a guest user account to a permanent account with email/password
        credentials. Guest flag is removed and user gains full access.
      parameters:
      - description: Upgrade request with email and password
        in: body
        name: request
        required: true
        schema:
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: Account upgraded successfully with new tokens
          schema:
            type: object
        "400":
          description: Invalid request - missing email or password
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
        "401":
          description: Unauthorized - not a guest user or invalid token
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Upgrade guest to permanent account
      tags:
      - Authentication API
  /auth/validate:
    post:
      consumes:
      - application/json
      description: Validates an access token against Keycloak's userinfo endpoint
      parameters:
      - description: Bearer token
        in: header
        name: Authorization
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Token is valid with user information
          schema:
            properties:
              user_info:
                type: object
              valid:
                type: boolean
            type: object
        "401":
          description: Invalid or expired token
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
        "500":
          description: Keycloak OAuth is not configured
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
      summary: Validate Keycloak access token
      tags:
      - Authentication API
  /auth/validate-api-key:
    post:
      consumes:
      - application/json
      description: Internal endpoint used by Kong API Gateway to validate API keys.
        Not intended for direct client use.
      parameters:
      - description: API key validation request
        in: body
        name: request
        required: true
        schema:
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: API key is valid with user information
          schema:
            type: object
        "401":
          description: Invalid API key
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
      summary: Validate API key (Kong Plugin)
      tags:
      - Authentication API
  /v1/admin/mcp-tools:
    get:
      consumes:
      - application/json
      description: Get a paginated list of MCP tools with optional filtering
      parameters:
      - description: Filter by category
        in: query
        name: category
        type: string
      - description: Filter by active status
        in: query
        name: is_active
        type: boolean
      - description: Search in name, description, and tool_key
        in: query
        name: search
        type: string
      - default: 20
        description: Limit
        in: query
        name: limit
        type: integer
      - default: 0
        description: Offset
        in: query
        name: offset
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/mcptoolhandler.ListResponse'
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      summary: List MCP tools
      tags:
      - Admin - MCP Tools
  /v1/admin/mcp-tools/{id}:
    get:
      consumes:
      - application/json
      description: Get an MCP tool by public ID
      parameters:
      - description: Public ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/mcptoolhandler.MCPToolResponse'
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Get an MCP tool
      tags:
      - Admin - MCP Tools
    patch:
      consumes:
      - application/json
      description: Update an existing MCP tool configuration (Name is read-only)
      parameters:
      - description: Public ID
        in: path
        name: id
        required: true
        type: string
      - description: Request body
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/mcptool.UpdateMCPToolRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/mcptoolhandler.MCPToolResponse'
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Update an MCP tool
      tags:
      - Admin - MCP Tools
  /v1/admin/models/catalogs:
    get:
      description: Retrieves a paginated list of model catalogs with optional filtering
        and searching
      parameters:
      - description: 'Number of records to return (default: 20, max: 100)'
        in: query
        name: limit
        type: integer
      - description: Number of records to skip for pagination
        in: query
        name: offset
        type: integer
      - description: 'Sort order: asc or desc (default: desc)'
        in: query
        name: order
        type: string
      - description: 'Filter by status: init, filled, updated'
        in: query
        name: status
        type: string
      - description: Filter by moderation status
        in: query
        name: is_moderated
        type: boolean
      produces:
      - application/json
      responses:
        "200":
          description: List of model catalogs
          schema:
            $ref: '#/definitions/modelresponses.ModelCatalogResponse'
        "400":
          description: Invalid query parameters
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
      security:
      - BearerAuth: []
      summary: List all model catalogs
      tags:
      - Admin Model API
  /v1/admin/models/catalogs/{model_public_id}:
    get:
      description: Retrieves detailed information about a model catalog entry by its
        public ID (supports IDs with slashes)
      parameters:
      - description: Model Catalog Public ID (can contain slashes)
        in: path
        name: model_public_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Model catalog details
          schema:
            $ref: '#/definitions/modelresponses.ModelCatalogResponse'
        "400":
          description: Invalid request
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
        "404":
          description: Model catalog not found
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get a model catalog entry
      tags:
      - Admin Model API
    patch:
      consumes:
      - application/json
      description: Updates metadata for a model catalog entry. Marks it as manually
        updated to prevent auto-sync overwrites.
      parameters:
      - description: Model Catalog Public ID (can contain slashes)
        in: path
        name: model_public_id
        required: true
        type: string
      - description: Update payload
        in: body
        name: payload
        required: true
        schema:
          $ref: '#/definitions/requestmodels.UpdateModelCatalogRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Updated model catalog
          schema:
            $ref: '#/definitions/modelresponses.ModelCatalogResponse'
        "400":
          description: Invalid request payload
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
        "404":
          description: Model catalog not found
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Update a model catalog entry
      tags:
      - Admin Model API
  /v1/admin/models/catalogs/bulk-toggle:
    post:
      consumes:
      - application/json
      description: Enable or disable provider models for specific catalogs or ALL
        catalogs, with optional exception list. Supports "enable/disable all except"
        patterns globally or scoped to catalogs.
      parameters:
      - description: Bulk toggle request. If catalog_ids is empty, applies to ALL
          catalogs. Use except_models to exclude specific models.
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/requestmodels.BulkToggleCatalogsRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Bulk operation result with counts and status
          schema:
            $ref: '#/definitions/modelresponses.BulkOperationResponse'
        "400":
          description: Invalid request - exceeds limits or validation error
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
        "404":
          description: One or more catalog IDs not found (when catalog_ids provided)
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
        "500":
          description: Internal server error during bulk operation
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Bulk enable/disable provider models by catalog IDs or all catalogs
      tags:
      - Admin Model API
  /v1/admin/models/prompt-templates/assign/{model_id}:
    post:
      consumes:
      - application/json
      description: Assign or update a prompt template assignment for a model catalog
      parameters:
      - description: Model Catalog Public ID
        in: path
        name: model_id
        required: true
        type: string
      - description: Assignment request
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/modelprompthandler.AssignRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/modelprompthandler.ModelPromptTemplateResponse'
        "201":
          description: Created
          schema:
            $ref: '#/definitions/modelprompthandler.ModelPromptTemplateResponse'
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Assign a prompt template to a model
      tags:
      - Admin - Model Prompt Templates
  /v1/admin/models/prompt-templates/effective/{model_id}:
    get:
      consumes:
      - application/json
      description: Get all resolved templates for a model, including global defaults
      parameters:
      - description: Model Catalog Public ID
        in: path
        name: model_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/modelprompthandler.EffectiveTemplatesResponse'
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Get effective templates for a model
      tags:
      - Admin - Model Prompt Templates
  /v1/admin/models/prompt-templates/list/{model_id}:
    get:
      consumes:
      - application/json
      description: Get all prompt template assignments for a model catalog
      parameters:
      - description: Model Catalog Public ID
        in: path
        name: model_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/modelprompthandler.ListResponse'
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      summary: List model prompt template assignments
      tags:
      - Admin - Model Prompt Templates
  /v1/admin/models/prompt-templates/unassign/{template_key}/{model_id}:
    delete:
      consumes:
      - application/json
      description: Remove a prompt template assignment, reverting to global default
      parameters:
      - description: Model Catalog Public ID
        in: path
        name: model_id
        required: true
        type: string
      - description: Template Key (e.g., deep_research, timing)
        in: path
        name: template_key
        required: true
        type: string
      produces:
      - application/json
      responses:
        "204":
          description: No Content
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Remove a prompt template assignment from a model
      tags:
      - Admin - Model Prompt Templates
  /v1/admin/models/prompt-templates/update/{template_key}/{model_id}:
    patch:
      consumes:
      - application/json
      description: Update an existing prompt template assignment
      parameters:
      - description: Model Catalog Public ID
        in: path
        name: model_id
        required: true
        type: string
      - description: Template Key
        in: path
        name: template_key
        required: true
        type: string
      - description: Update request
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/modelprompthandler.UpdateRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/modelprompthandler.ModelPromptTemplateResponse'
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Update a prompt template assignment
      tags:
      - Admin - Model Prompt Templates
  /v1/admin/models/provider-models:
    get:
      description: Retrieves a paginated list of provider models with optional filtering
      parameters:
      - description: 'Number of records to return (default: 20, max: 100)'
        in: query
        name: limit
        type: integer
      - description: Number of records to skip for pagination
        in: query
        name: offset
        type: integer
      - description: 'Sort order: asc or desc (default: desc)'
        in: query
        name: order
        type: string
      - description: Filter by provider public ID
        in: query
        name: provider_id
        type: string
      - description: Filter by model key
        in: query
        name: model_key
        type: string
      - description: Filter by active status
        in: query
        name: active
        type: boolean
      - description: Filter by image support
        in: query
        name: supports_images
        type: boolean
      produces:
      - application/json
      responses:
        "200":
          description: List of provider models
          schema:
            $ref: '#/definitions/modelresponses.ProviderModelResponse'
        "400":
          description: Invalid query parameters
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
      security:
      - BearerAuth: []
      summary: List all provider models
      tags:
      - Admin Model API
  /v1/admin/models/provider-models/{provider_model_public_id}:
    get:
      description: Retrieves detailed information about a provider model by its public
        ID
      parameters:
      - description: Provider Model Public ID
        in: path
        name: provider_model_public_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Provider model details
          schema:
            $ref: '#/definitions/modelresponses.ProviderModelResponse'
        "400":
          description: Invalid request
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
        "404":
          description: Provider model not found
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get a provider model
      tags:
      - Admin Model API
    patch:
      consumes:
      - application/json
      description: Updates configuration for a provider model including pricing, limits,
        and feature flags
      parameters:
      - description: Provider Model Public ID
        in: path
        name: provider_model_public_id
        required: true
        type: string
      - description: Update payload
        in: body
        name: payload
        required: true
        schema:
          $ref: '#/definitions/requestmodels.UpdateProviderModelRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Updated provider model
          schema:
            $ref: '#/definitions/modelresponses.ProviderModelResponse'
        "400":
          description: Invalid request payload
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
        "404":
          description: Provider model not found
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Update a provider model
      tags:
      - Admin Model API
  /v1/admin/models/provider-models/bulk-toggle:
    post:
      consumes:
      - application/json
      description: 'Enables or disables provider models with flexible patterns: enable
        all, disable all, enable all except, or disable all except. Optionally filter
        by provider.'
      parameters:
      - description: Bulk toggle payload with enable flag, optional provider filter,
          and exception list
        in: body
        name: payload
        required: true
        schema:
          $ref: '#/definitions/requestmodels.BulkEnableModelsRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Bulk operation result with counts and status
          schema:
            $ref: '#/definitions/modelresponses.BulkOperationResponse'
        "400":
          description: Invalid request payload
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Bulk enable or disable provider models
      tags:
      - Admin Model API
  /v1/admin/prompt-templates:
    get:
      consumes:
      - application/json
      description: Get a paginated list of prompt templates with optional filtering
      parameters:
      - description: Filter by category
        in: query
        name: category
        type: string
      - description: Filter by active status
        in: query
        name: is_active
        type: boolean
      - description: Filter by system status
        in: query
        name: is_system
        type: boolean
      - description: Search in name and description
        in: query
        name: search
        type: string
      - default: 20
        description: Limit
        in: query
        name: limit
        type: integer
      - default: 0
        description: Offset
        in: query
        name: offset
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/prompttemplatehandler.ListResponse'
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      summary: List prompt templates
      tags:
      - Admin - Prompt Templates
    post:
      consumes:
      - application/json
      description: Create a new prompt template
      parameters:
      - description: Request body
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/prompttemplate.CreatePromptTemplateRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/prompttemplatehandler.PromptTemplateResponse'
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "409":
          description: Conflict
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Create a prompt template
      tags:
      - Admin - Prompt Templates
  /v1/admin/prompt-templates/{id}:
    delete:
      consumes:
      - application/json
      description: Delete a prompt template (system templates cannot be deleted)
      parameters:
      - description: Public ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "204":
          description: No Content
        "403":
          description: Forbidden
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Delete a prompt template
      tags:
      - Admin - Prompt Templates
    get:
      consumes:
      - application/json
      description: Get a prompt template by public ID
      parameters:
      - description: Public ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/prompttemplatehandler.PromptTemplateResponse'
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Get a prompt template
      tags:
      - Admin - Prompt Templates
    patch:
      consumes:
      - application/json
      description: Update an existing prompt template
      parameters:
      - description: Public ID
        in: path
        name: id
        required: true
        type: string
      - description: Request body
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/prompttemplate.UpdatePromptTemplateRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/prompttemplatehandler.PromptTemplateResponse'
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Update a prompt template
      tags:
      - Admin - Prompt Templates
  /v1/admin/prompt-templates/{id}/duplicate:
    post:
      consumes:
      - application/json
      description: Create a copy of an existing prompt template with a new name (key
        is auto-generated)
      parameters:
      - description: Public ID
        in: path
        name: id
        required: true
        type: string
      - description: Request body
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/prompttemplatehandler.DuplicateRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/prompttemplatehandler.PromptTemplateResponse'
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
        "409":
          description: Conflict
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Duplicate a prompt template
      tags:
      - Admin - Prompt Templates
  /v1/admin/providers:
    get:
      description: Retrieves all providers with their model counts
      produces:
      - application/json
      responses:
        "200":
          description: List of providers with model counts
          schema:
            items:
              $ref: '#/definitions/modelresponses.ProviderWithModelCountResponse'
            type: array
        "500":
          description: Failed to retrieve providers
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get all providers
      tags:
      - Admin Provider API
    post:
      consumes:
      - application/json
      description: Registers a new provider and synchronizes its available models.
      parameters:
      - description: Provider registration payload
        in: body
        name: payload
        required: true
        schema:
          $ref: '#/definitions/requestmodels.AddProviderRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Registered provider with synced models
          schema:
            $ref: '#/definitions/modelresponses.ProviderWithModelsResponse'
        "400":
          description: Invalid request payload
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
        "500":
          description: Failed to register provider
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Register a provider
      tags:
      - Admin Provider API
  /v1/admin/providers/{provider_public_id}:
    delete:
      description: Deletes a provider by its public ID along with its provider models
      parameters:
      - description: Provider public ID
        in: path
        name: provider_public_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "204":
          description: Provider deleted
        "404":
          description: Provider not found
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
        "500":
          description: Failed to delete provider
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Delete a provider
      tags:
      - Admin Provider API
    get:
      description: Retrieves a provider by its public ID
      parameters:
      - description: Provider public ID
        in: path
        name: provider_public_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Provider details
          schema:
            $ref: '#/definitions/modelresponses.ProviderResponse'
        "404":
          description: Provider not found
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
        "500":
          description: Failed to retrieve provider
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get a provider
      tags:
      - Admin Provider API
    patch:
      consumes:
      - application/json
      description: Updates an existing provider's configuration
      parameters:
      - description: Provider public ID
        in: path
        name: provider_public_id
        required: true
        type: string
      - description: Provider update payload
        in: body
        name: payload
        required: true
        schema:
          $ref: '#/definitions/requestmodels.UpdateProviderRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Updated provider
          schema:
            $ref: '#/definitions/modelresponses.ProviderResponse'
        "400":
          description: Invalid request payload
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
        "404":
          description: Provider not found
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
        "500":
          description: Failed to update provider
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Update a provider
      tags:
      - Admin Provider API
  /v1/admin/usage:
    get:
      description: Returns total platform token usage including top users and breakdown
        by model/provider
      parameters:
      - description: Start date (YYYY-MM-DD), defaults to 30 days ago
        in: query
        name: start_date
        type: string
      - description: End date (YYYY-MM-DD), defaults to today
        in: query
        name: end_date
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/tokenusage.PlatformUsageResponse'
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Get platform-wide token usage (Admin only)
      tags:
      - Usage
  /v1/auth/logout:
    get:
      consumes:
      - application/json
      description: Remove refresh tokens to perform logout and invalidate Keycloak
        session. Accepts refresh token from cookie, Authorization header, or request
        body.
      parameters:
      - description: Refresh token to revoke
        in: body
        name: refresh_token
        schema:
          type: string
      - description: Bearer refresh_token
        in: header
        name: Authorization
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Successfully logged out
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
      summary: Logout
      tags:
      - Authentication API
    post:
      consumes:
      - application/json
      description: Remove refresh tokens to perform logout and invalidate Keycloak
        session. Accepts refresh token from cookie, Authorization header, or request
        body.
      parameters:
      - description: Refresh token to revoke
        in: body
        name: refresh_token
        schema:
          type: string
      - description: Bearer refresh_token
        in: header
        name: Authorization
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Successfully logged out
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
      summary: Logout
      tags:
      - Authentication API
  /v1/auth/me:
    get:
      description: Retrieves the profile of the authenticated user
      produces:
      - application/json
      responses:
        "200":
          description: Successfully retrieved user profile
          schema:
            $ref: '#/definitions/authhandler.GetMeResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get user profile
      tags:
      - Authentication API
  /v1/auth/refresh-token:
    post:
      consumes:
      - application/json
      description: Use a valid refresh token to obtain a new access token
      parameters:
      - description: Refresh token (can also be in Authorization header)
        in: body
        name: refresh_token
        schema:
          type: string
      produces:
      - application/json
      responses:
        "200":
          description: Successfully refreshed the access token
          schema:
            $ref: '#/definitions/authhandler.AccessTokenResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
      summary: Refresh an access token
      tags:
      - Authentication API
  /v1/chat/completions:
    post:
      consumes:
      - application/json
      description: |-
        Generates a model response for the given chat conversation. This is a standard chat completion API that supports both streaming and non-streaming modes without conversation persistence.

        **Streaming Mode (stream=true):**
        - Returns Server-Sent Events (SSE) with real-time streaming
        - Streams completion chunks directly from the inference model
        - Final event contains "[DONE]" marker

        **Non-Streaming Mode (stream=false or omitted):**
        - Returns single JSON response with complete completion
        - Standard OpenAI ChatCompletionResponse format

        **Storage Options:**
        - `store=true`: Persist the latest input message and assistant response to the active conversation
        - `store_reasoning=true`: Additionally persist reasoning content provided by the model
        - When `store` is omitted or false, the conversation remains read-only

        **Features:**
        - Supports all OpenAI ChatCompletionRequest parameters
        - Optional conversation context for conversation persistence
        - User authentication required
        - Direct inference model integration
      parameters:
      - description: Chat completion request with streaming options and optional conversation
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/chatrequests.ChatCompletionRequest'
      produces:
      - application/json
      - text/event-stream
      responses:
        "200":
          description: 'Successful streaming response (when stream=true) - SSE format
            with data: {json} events'
          schema:
            type: string
        "400":
          description: Invalid request payload, empty messages, or inference failure
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
        "401":
          description: Unauthorized - missing or invalid authentication
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Create a chat completion
      tags:
      - Chat Completions API
  /v1/conversations:
    delete:
      description: |-
        Permanently delete all conversations for the authenticated user

        **WARNING: This is a destructive operation that cannot be undone.**

        **Features:**
        - Deletes ALL conversations owned by the authenticated user
        - Automatically cascades to delete all associated items and shares
        - Returns the count of deleted conversations
        - Requires valid authentication to ensure ownership verification

        **Security:**
        - Only deletes conversations owned by the authenticated user
        - Cannot delete other users' conversations
        - Authentication is mandatory
      produces:
      - application/json
      responses:
        "200":
          description: Successfully deleted all conversations
          schema:
            $ref: '#/definitions/conversationresponses.BulkConversationsDeletedResponse'
        "401":
          description: Unauthorized - missing or invalid authentication
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
        "500":
          description: Internal server error - deletion failed
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Delete all conversations
      tags:
      - Conversations API
    get:
      description: List conversations for the authenticated user with optional referrer
        filtering.
      parameters:
      - description: Referrer filter
        in: query
        name: referrer
        type: string
      - description: Maximum number of conversations to return
        in: query
        name: limit
        type: integer
      - description: Return conversations created after the given numeric ID
        in: query
        name: after
        type: string
      - description: Sort order (asc or desc)
        in: query
        name: order
        type: string
      - description: Set to 'all' to list conversations across the workspace (requires
          elevated permissions)
        in: query
        name: scope
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Successfully retrieved conversations
          schema:
            $ref: '#/definitions/conversationresponses.ConversationListResponse'
        "400":
          description: Invalid request parameters
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
        "401":
          description: Unauthorized - missing or invalid authentication
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
      security:
      - BearerAuth: []
      summary: List conversations
      tags:
      - Conversations API
    post:
      consumes:
      - application/json
      description: |-
        Create a new conversation to store and retrieve conversation state across Response API calls

        **Features:**
        - Create conversation with optional metadata (max 16 key-value pairs)
        - Add up to 20 initial items to the conversation
        - Returns conversation ID with `conv_` prefix
        - Supports OpenAI Conversations API format

        **Metadata Constraints:**
        - Maximum 16 key-value pairs
        - Keys: max 64 characters
        - Values: max 512 characters
      parameters:
      - description: Create conversation request with optional items and metadata
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/conversationrequests.CreateConversationRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Successfully created conversation
          schema:
            $ref: '#/definitions/conversationresponses.ConversationResponse'
        "400":
          description: Invalid request - validation failed or too many items
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
        "401":
          description: Unauthorized - missing or invalid authentication
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
        "500":
          description: Internal server error - conversation creation failed
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Create a conversation
      tags:
      - Conversations API
  /v1/conversations/{conv_public_id}:
    delete:
      description: |-
        Delete a conversation (soft delete). Items in the conversation will not be deleted but will be inaccessible.

        **Features:**
        - Soft delete (conversation marked as deleted, not physically removed)
        - Items remain in database but become inaccessible
        - Automatic ownership verification
        - Returns deletion confirmation with conversation ID

        **Response:**
        - `id`: Deleted conversation ID
        - `object`: Always "conversation.deleted"
        - `deleted`: Always true
      parameters:
      - description: 'Conversation ID (format: conv_xxxxx)'
        in: path
        name: conv_public_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Successfully deleted conversation
          schema:
            $ref: '#/definitions/conversationresponses.ConversationDeletedResponse'
        "400":
          description: Invalid conversation ID format
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
        "401":
          description: Unauthorized - missing or invalid authentication
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
        "404":
          description: Conversation not found or access denied
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
        "500":
          description: Internal server error - deletion failed
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Delete a conversation
      tags:
      - Conversations API
    get:
      description: |-
        Retrieve a conversation by ID with ownership verification

        **Features:**
        - Retrieves conversation metadata including creation timestamp
        - Automatic ownership verification (user can only access their own conversations)
        - Returns OpenAI-compatible conversation object

        **Response Fields:**
        - `id`: Conversation ID with `conv_` prefix
        - `object`: Always "conversation"
        - `created_at`: Unix timestamp
        - `metadata`: User-defined key-value pairs
      parameters:
      - description: 'Conversation ID (format: conv_xxxxx)'
        in: path
        name: conv_public_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Successfully retrieved conversation
          schema:
            $ref: '#/definitions/conversationresponses.ConversationResponse'
        "400":
          description: Invalid conversation ID format
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
        "401":
          description: Unauthorized - missing or invalid authentication
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
        "404":
          description: Conversation not found or access denied
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get a conversation
      tags:
      - Conversations API
    post:
      consumes:
      - application/json
      description: |-
        Update a conversation's metadata while preserving existing items

        **Features:**
        - Update metadata key-value pairs
        - Replaces entire metadata object (not merged)
        - Items remain unchanged
        - Automatic ownership verification

        **Metadata Constraints:**
        - Maximum 16 key-value pairs
        - Keys: max 64 characters
        - Values: max 512 characters
      parameters:
      - description: 'Conversation ID (format: conv_xxxxx)'
        in: path
        name: conv_public_id
        required: true
        type: string
      - description: Update conversation request with new metadata
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/conversationrequests.UpdateConversationRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Successfully updated conversation
          schema:
            $ref: '#/definitions/conversationresponses.ConversationResponse'
        "400":
          description: Invalid request - validation failed or invalid metadata
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
        "401":
          description: Unauthorized - missing or invalid authentication
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
        "404":
          description: Conversation not found or access denied
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
        "500":
          description: Internal server error - update failed
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Update a conversation
      tags:
      - Conversations API
  /v1/conversations/{conv_public_id}/branches:
    get:
      description: List all branches for a conversation
      parameters:
      - description: 'Conversation ID (format: conv_xxxxx)'
        in: path
        name: conv_public_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Successfully retrieved branches
          schema:
            $ref: '#/definitions/conversationhandler.ListBranchesResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
        "404":
          description: Conversation not found
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
      security:
      - BearerAuth: []
      summary: List branches
      tags:
      - Conversation Branches
    post:
      consumes:
      - application/json
      description: Create a new branch in a conversation, optionally forking from
        an existing item
      parameters:
      - description: 'Conversation ID (format: conv_xxxxx)'
        in: path
        name: conv_public_id
        required: true
        type: string
      - description: Create branch request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/conversationhandler.CreateBranchRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Successfully created branch
          schema:
            $ref: '#/definitions/conversationhandler.BranchResponse'
        "400":
          description: Invalid request
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
        "404":
          description: Conversation not found
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Create a branch
      tags:
      - Conversation Branches
  /v1/conversations/{conv_public_id}/branches/{branch_name}:
    delete:
      description: Delete a branch from a conversation (cannot delete MAIN or active
        branch)
      parameters:
      - description: 'Conversation ID (format: conv_xxxxx)'
        in: path
        name: conv_public_id
        required: true
        type: string
      - description: Branch name
        in: path
        name: branch_name
        required: true
        type: string
      responses:
        "204":
          description: Branch deleted successfully
        "400":
          description: Cannot delete MAIN or active branch
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
        "404":
          description: Branch not found
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Delete a branch
      tags:
      - Conversation Branches
    get:
      description: Get details of a specific branch
      parameters:
      - description: 'Conversation ID (format: conv_xxxxx)'
        in: path
        name: conv_public_id
        required: true
        type: string
      - description: Branch name
        in: path
        name: branch_name
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Successfully retrieved branch
          schema:
            $ref: '#/definitions/conversationhandler.BranchResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
        "404":
          description: Branch not found
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get branch details
      tags:
      - Conversation Branches
  /v1/conversations/{conv_public_id}/branches/{branch_name}/activate:
    post:
      description: Set a branch as the active branch for a conversation
      parameters:
      - description: 'Conversation ID (format: conv_xxxxx)'
        in: path
        name: conv_public_id
        required: true
        type: string
      - description: Branch name
        in: path
        name: branch_name
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Branch activated successfully
          schema:
            $ref: '#/definitions/conversationhandler.ActivateBranchResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
        "404":
          description: Branch not found
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Activate a branch
      tags:
      - Conversation Branches
  /v1/conversations/{conv_public_id}/items:
    get:
      description: |-
        List all items in a conversation with cursor-based pagination support

        **Features:**
        - Cursor-based pagination using item IDs
        - Configurable page size (1-100 items, default 20)
        - Sort order control (ascending or descending)
        - Optional include parameter for additional fields
        - Returns paginated list with navigation cursors

        **Pagination:**
        - Use `after` cursor from previous response for next page
        - `has_more` indicates if more items are available
        - `first_id` and `last_id` provide cursor references

        **Query Parameters:**
        - `limit`: Number of items (1-100, default 20)
        - `order`: Sort order ("asc" or "desc", default "desc")
        - `after`: Item ID cursor for pagination
        - `include`: Additional fields to include (optional)
      parameters:
      - description: 'Conversation ID (format: conv_xxxxx)'
        in: path
        name: conv_public_id
        required: true
        type: string
      - description: Item ID cursor to list items after (pagination)
        in: query
        name: after
        type: string
      - default: 20
        description: Number of items to return (1-100)
        in: query
        maximum: 100
        minimum: 1
        name: limit
        type: integer
      - default: desc
        description: 'Sort order: asc or desc'
        enum:
        - asc
        - desc
        in: query
        name: order
        type: string
      - collectionFormat: csv
        description: Additional fields to include in response
        in: query
        items:
          type: string
        name: include
        type: array
      produces:
      - application/json
      responses:
        "200":
          description: Successfully retrieved items list
          schema:
            $ref: '#/definitions/conversationresponses.ItemListResponse'
        "400":
          description: Invalid request - invalid parameters or conversation ID
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
        "401":
          description: Unauthorized - missing or invalid authentication
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
        "404":
          description: Conversation not found or access denied
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
        "500":
          description: Internal server error - listing failed
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
      security:
      - BearerAuth: []
      summary: List conversation items
      tags:
      - Conversations API
    post:
      consumes:
      - application/json
      description: |-
        Add items to a conversation. You may add up to 20 items at a time.

        **Features:**
        - Bulk item creation (max 20 items per request)
        - Automatic item ID generation with `msg_` prefix
        - Items added to conversation's active branch (default: MAIN)
        - Returns list of created items with generated IDs

        **Item Types:**
        - `message`: User or assistant messages
        - `tool_call`: Tool/function call items
        - `tool_response`: Tool/function response items
        - Other OpenAI-compatible item types

        **Constraints:**
        - Maximum 20 items per request
        - Each item must have valid type and content
        - Items are immutable after creation
      parameters:
      - description: 'Conversation ID (format: conv_xxxxx)'
        in: path
        name: conv_public_id
        required: true
        type: string
      - collectionFormat: csv
        description: Additional fields to include in response
        in: query
        items:
          type: string
        name: include
        type: array
      - description: Create items request with array of items
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/conversationrequests.CreateItemsRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Successfully created items
          schema:
            $ref: '#/definitions/conversationresponses.ConversationItemCreatedResponse'
        "400":
          description: Invalid request - too many items, invalid format, or validation
            failed
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
        "401":
          description: Unauthorized - missing or invalid authentication
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
        "404":
          description: Conversation not found or access denied
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
        "500":
          description: Internal server error - item creation failed
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Create conversation items
      tags:
      - Conversations API
  /v1/conversations/{conv_public_id}/items/{item_id}:
    delete:
      description: |-
        Delete an item from a conversation by creating a new MAIN branch without it.
        The old MAIN branch is preserved as a backup.

        **Features:**
        - Creates a new branch without the deleted item
        - New branch becomes MAIN, old MAIN becomes backup
        - Automatic ownership verification
        - Preserves conversation history in backup branch

        **Important:**
        - The old MAIN branch is renamed to MAIN_YYYYMMDDHHMMSS
        - You can switch back to the backup branch if needed
        - This is a non-destructive delete operation

        **Response:**
        Returns branch information including the backup branch name
      parameters:
      - description: 'Conversation ID (format: conv_xxxxx)'
        in: path
        name: conv_public_id
        required: true
        type: string
      - description: 'Item ID to delete (format: msg_xxxxx)'
        in: path
        name: item_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Successfully deleted item, returns branch info
          schema:
            $ref: '#/definitions/conversationhandler.DeleteItemResponse'
        "400":
          description: Invalid conversation ID or item ID format
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
        "401":
          description: Unauthorized - missing or invalid authentication
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
        "404":
          description: Conversation or item not found, or access denied
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
        "500":
          description: Internal server error - deletion failed
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Delete a conversation item
      tags:
      - Conversations API
    get:
      description: |-
        Retrieve a single item from a conversation by item ID

        **Features:**
        - Retrieve specific item by ID
        - Returns complete item with all content
        - Automatic ownership verification via conversation
        - Optional include parameter for additional fields

        **Response Fields:**
        - `id`: Item ID with `msg_` prefix
        - `type`: Item type (message, tool_call, etc.)
        - `role`: Role for message items (user, assistant)
        - `content`: Item content array
        - `status`: Item status (completed, incomplete, etc.)
        - `created_at`: Unix timestamp
      parameters:
      - description: 'Conversation ID (format: conv_xxxxx)'
        in: path
        name: conv_public_id
        required: true
        type: string
      - description: 'Item ID (format: msg_xxxxx)'
        in: path
        name: item_id
        required: true
        type: string
      - collectionFormat: csv
        description: Additional fields to include in response
        in: query
        items:
          type: string
        name: include
        type: array
      produces:
      - application/json
      responses:
        "200":
          description: Successfully retrieved item
          schema:
            $ref: '#/definitions/conversationresponses.ItemResponse'
        "400":
          description: Invalid conversation ID or item ID format
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
        "401":
          description: Unauthorized - missing or invalid authentication
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
        "404":
          description: Conversation or item not found, or access denied
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get a conversation item
      tags:
      - Conversations API
  /v1/conversations/{conv_public_id}/items/{item_id}/edit:
    post:
      consumes:
      - application/json
      description: Edit a user message and create a new branch with the edited content
      parameters:
      - description: 'Conversation ID (format: conv_xxxxx)'
        in: path
        name: conv_public_id
        required: true
        type: string
      - description: 'Message item ID (format: msg_xxxxx)'
        in: path
        name: item_id
        required: true
        type: string
      - description: Edit message request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/conversationhandler.EditMessageRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Message edited successfully
          schema:
            $ref: '#/definitions/conversationhandler.EditMessageResponse'
        "400":
          description: Invalid request or not a user message
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
        "404":
          description: Message not found
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Edit a message
      tags:
      - Message Actions
  /v1/conversations/{conv_public_id}/items/{item_id}/regenerate:
    post:
      consumes:
      - application/json
      description: Regenerate an assistant response by creating a new branch
      parameters:
      - description: 'Conversation ID (format: conv_xxxxx)'
        in: path
        name: conv_public_id
        required: true
        type: string
      - description: 'Assistant message item ID (format: msg_xxxxx)'
        in: path
        name: item_id
        required: true
        type: string
      - description: Regenerate options
        in: body
        name: request
        schema:
          $ref: '#/definitions/conversationhandler.RegenerateMessageRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Regeneration initiated
          schema:
            $ref: '#/definitions/conversationhandler.RegenerateMessageResponse'
        "400":
          description: Invalid request or not an assistant message
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
        "404":
          description: Message not found
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Regenerate a response
      tags:
      - Message Actions
  /v1/conversations/{conv_public_id}/items/by-call-id/{call_id}:
    patch:
      consumes:
      - application/json
      description: |-
        Update a conversation item's status and output using its call_id.
        This endpoint is primarily used by MCP tools to report tool execution results.

        **Features:**
        - Find item by call_id (e.g., call_xxx) instead of item_id
        - Update status to completed, failed, or cancelled
        - Store tool output or error message
        - Automatic timestamp for completion

        **Use Cases:**
        - MCP tool reports successful execution with output
        - MCP tool reports failure with error message
        - Tool call status tracking and observability
      parameters:
      - description: 'Conversation ID (format: conv_xxxxx)'
        in: path
        name: conv_public_id
        required: true
        type: string
      - description: 'Call ID of the tool call item (format: call_xxxxx)'
        in: path
        name: call_id
        required: true
        type: string
      - description: Update request with status and optional output/error
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/conversationrequests.UpdateItemByCallIDRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Successfully updated item
          schema:
            $ref: '#/definitions/conversationresponses.ItemResponse'
        "400":
          description: Invalid request - validation failed
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
        "401":
          description: Unauthorized - missing or invalid authentication
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
        "404":
          description: Conversation or item not found
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Update item by call ID
      tags:
      - Conversations API
  /v1/conversations/{conv_public_id}/share:
    post:
      consumes:
      - application/json
      description: Creates a public share link for a conversation or a single message
      parameters:
      - description: Conversation public ID
        in: path
        name: conv_public_id
        required: true
        type: string
      - description: Share creation request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/sharerequests.CreateShareRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Share created successfully
          schema:
            $ref: '#/definitions/shareresponses.ShareResponse'
        "400":
          description: Invalid request
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
        "404":
          description: Conversation not found
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
        "413":
          description: Snapshot too large
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Create a share for a conversation
      tags:
      - Shares API
  /v1/conversations/{conv_public_id}/shares:
    get:
      description: Lists all shares (active and revoked) for a conversation
      parameters:
      - description: Conversation public ID
        in: path
        name: conv_public_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: List of shares
          schema:
            $ref: '#/definitions/shareresponses.ShareListResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
        "404":
          description: Conversation not found
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
      security:
      - BearerAuth: []
      summary: List shares for a conversation
      tags:
      - Shares API
  /v1/conversations/{conv_public_id}/shares/{share_id}:
    delete:
      description: Revokes an active share, making it inaccessible
      parameters:
      - description: Conversation public ID
        in: path
        name: conv_public_id
        required: true
        type: string
      - description: Share public ID
        in: path
        name: share_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Share revoked successfully
          schema:
            $ref: '#/definitions/shareresponses.ShareDeletedResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
        "404":
          description: Share not found
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Revoke a share
      tags:
      - Shares API
  /v1/healthz:
    get:
      description: Returns the health status of the API server. Used by orchestrators
        and monitoring systems.
      produces:
      - application/json
      responses:
        "200":
          description: Health status OK
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Health check endpoint
      tags:
      - Server API
  /v1/images/edits:
    post:
      consumes:
      - application/json
      description: Creates an edited image given an original image and a prompt.
      parameters:
      - description: Image edit request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/image.ImageEditRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Successful image edit response
          schema:
            $ref: '#/definitions/image.ImageGenerationResponse'
        "400":
          description: Invalid request payload or validation error
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
        "401":
          description: Unauthorized - missing or invalid authentication
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
        "404":
          description: No active image provider configured
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
        "500":
          description: Internal server error or image provider error
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Create image edit
      tags:
      - Images API
  /v1/images/generations:
    post:
      consumes:
      - application/json
      description: |
        Generates images from a text prompt using the configured image provider.
        This endpoint is compatible with the OpenAI Images API format.

        **Response Formats:**
        - url: Returns presigned URLs to download images (default, recommended)
        - b64_json: Returns base64-encoded image data

        **Size Options:**
        - 1024x1024 (default)
        - 512x512
        - 1792x1024 (landscape)
        - 1024x1792 (portrait)
      parameters:
      - description: Image generation request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/image.ImageGenerationRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Successful image generation response
          schema:
            $ref: '#/definitions/image.ImageGenerationResponse'
        "400":
          description: Invalid request payload or validation error
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
        "401":
          description: Unauthorized - missing or invalid authentication
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
        "404":
          description: No active image provider configured
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
        "500":
          description: Internal server error or image provider error
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
        "501":
          description: Feature not implemented
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Create image generation
      tags:
      - Images API
  /v1/images/variations:
    post:
      consumes:
      - application/json
      description: |-
        Creates a variation of a given image.
        NOTE: This endpoint is not yet implemented and will return 501 Not Implemented.
      produces:
      - application/json
      responses:
        "501":
          description: Not implemented
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Create image variation (Not Implemented)
      tags:
      - Images API
  /v1/mcp-tools:
    get:
      consumes:
      - application/json
      description: Get all active MCP tools (public endpoint for mcp-tools service)
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/mcptoolhandler.ActiveToolsResponse'
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      summary: List all active MCP tools
      tags:
      - MCP Tools
  /v1/mcp-tools/{key}:
    get:
      consumes:
      - application/json
      description: Get an MCP tool by its unique tool key (public endpoint for mcp-tools
        service)
      parameters:
      - description: Tool Key
        in: path
        name: key
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/mcptoolhandler.MCPToolResponse'
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Get an MCP tool by key
      tags:
      - MCP Tools
  /v1/models:
    get:
      consumes:
      - application/json
      description: Retrieves a list of available models that can be used for chat
        completions or other tasks. Returns either simple model list or detailed list
        with provider metadata based on X-PROVIDER-DATA header.
      parameters:
      - description: Set to 'true' to include provider metadata in response
        enum:
        - "true"
        - "false"
        in: header
        name: X-PROVIDER-DATA
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: List of models with provider metadata (when X-PROVIDER-DATA=true)
          schema:
            $ref: '#/definitions/modelresponses.ModelWithProviderResponseList'
        "404":
          description: Models or providers not found
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
        "500":
          description: Failed to retrieve models
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
      security:
      - BearerAuth: []
      summary: List available models
      tags:
      - Chat Completions API
  /v1/models/catalogs/{model_public_id}:
    get:
      description: Retrieves detailed information about a model catalog entry by its
        public ID (supports IDs with slashes like openrouter/nova-lite-v1)
      parameters:
      - description: Model Catalog Public ID (can contain slashes)
        in: path
        name: model_public_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Model catalog details
          schema:
            $ref: '#/definitions/modelresponses.ModelCatalogResponse'
        "400":
          description: Invalid request
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
        "404":
          description: Model catalog not found
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get a model catalog entry
      tags:
      - Model API
  /v1/models/providers:
    get:
      consumes:
      - application/json
      description: Retrieves a list of available model providers that can be used
        for inference.
      produces:
      - application/json
      responses:
        "200":
          description: List of providers
          schema:
            $ref: '#/definitions/modelresponses.ProviderResponseList'
        "500":
          description: Failed to retrieve providers
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
      security:
      - BearerAuth: []
      summary: List model providers
      tags:
      - Model API
  /v1/projects:
    get:
      description: List all projects for the authenticated user
      parameters:
      - description: Maximum number of projects to return
        in: query
        name: limit
        type: integer
      - description: Return projects after the given numeric ID
        in: query
        name: after
        type: string
      - description: Sort order (asc or desc)
        in: query
        name: order
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/projectres.ProjectListResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
      security:
      - BearerAuth: []
      summary: List projects
      tags:
      - Projects API
    post:
      consumes:
      - application/json
      description: Create a new project for grouping conversations
      parameters:
      - description: Create project request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/projectreq.CreateProjectRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/projectres.ProjectResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Create project
      tags:
      - Projects API
  /v1/projects/{project_id}:
    delete:
      description: Soft-delete a project
      parameters:
      - description: Project ID
        in: path
        name: project_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/projectres.ProjectDeletedResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Delete project
      tags:
      - Projects API
    get:
      description: Get a single project by ID
      parameters:
      - description: Project ID
        in: path
        name: project_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/projectres.ProjectResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get project
      tags:
      - Projects API
    patch:
      consumes:
      - application/json
      description: Update project name, instruction, or archived status
      parameters:
      - description: Project ID
        in: path
        name: project_id
        required: true
        type: string
      - description: Update request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/projectreq.UpdateProjectRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/projectres.ProjectResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Update project
      tags:
      - Projects API
  /v1/prompt-templates/{key}:
    get:
      consumes:
      - application/json
      description: Get a prompt template by its unique template key (public endpoint)
      parameters:
      - description: Template Key
        in: path
        name: key
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/prompttemplatehandler.PromptTemplateResponse'
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Get a prompt template by key
      tags:
      - Prompt Templates
  /v1/public/shares/{slug}:
    get:
      description: Retrieves a publicly shared conversation or message by its slug
      parameters:
      - description: Share slug
        in: path
        name: slug
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Public share content
          schema:
            $ref: '#/definitions/shareresponses.PublicShareResponse'
        "404":
          description: Share not found or revoked
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
        "410":
          description: Share has been revoked
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
      summary: Get a public share by slug
      tags:
      - Public Shares API
    head:
      description: Checks if a share exists and is accessible (for preloading)
      parameters:
      - description: Share slug
        in: path
        name: slug
        required: true
        type: string
      responses:
        "200":
          description: Share exists and is accessible
        "404":
          description: Share not found
        "410":
          description: Share has been revoked
      summary: Check if a public share exists
      tags:
      - Public Shares API
  /v1/readyz:
    get:
      description: Returns the readiness status of the API server. Indicates if the
        service is ready to accept traffic.
      produces:
      - application/json
      responses:
        "200":
          description: Readiness status ready
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Readiness check endpoint
      tags:
      - Server API
  /v1/shares:
    get:
      description: Lists all shares (active and revoked) for the authenticated user
        across all conversations
      parameters:
      - default: true
        description: Include revoked shares
        in: query
        name: include_revoked
        type: boolean
      produces:
      - application/json
      responses:
        "200":
          description: List of shares
          schema:
            $ref: '#/definitions/shareresponses.ShareListResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
      security:
      - BearerAuth: []
      summary: List all shares for the authenticated user
      tags:
      - Shares API
  /v1/shares/{share_id}:
    delete:
      description: Revokes an active share by its ID, making it inaccessible
      parameters:
      - description: Share public ID
        in: path
        name: share_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Share revoked successfully
          schema:
            $ref: '#/definitions/shareresponses.ShareDeletedResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
        "404":
          description: Share not found
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Revoke a share by share ID
      tags:
      - Shares API
  /v1/usage/me:
    get:
      description: Returns token usage summary for the authenticated user within a
        date range
      parameters:
      - description: Start date (YYYY-MM-DD), defaults to 30 days ago
        in: query
        name: start_date
        type: string
      - description: End date (YYYY-MM-DD), defaults to today
        in: query
        name: end_date
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/tokenusage.UsageResponse'
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Get current user's token usage
      tags:
      - Usage
  /v1/usage/me/daily:
    get:
      description: Returns daily aggregated token usage for the authenticated user
      parameters:
      - description: Start date (YYYY-MM-DD), defaults to 30 days ago
        in: query
        name: start_date
        type: string
      - description: End date (YYYY-MM-DD), defaults to today
        in: query
        name: end_date
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/tokenusage.DailyAggregate'
            type: array
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Get current user's daily token usage
      tags:
      - Usage
  /v1/usage/projects/{id}:
    get:
      description: Returns token usage summary for a specific project
      parameters:
      - description: Project ID
        in: path
        name: id
        required: true
        type: string
      - description: Start date (YYYY-MM-DD), defaults to 30 days ago
        in: query
        name: start_date
        type: string
      - description: End date (YYYY-MM-DD), defaults to today
        in: query
        name: end_date
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/tokenusage.UsageResponse'
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Get project's token usage
      tags:
      - Usage
  /v1/users/me/settings:
    get:
      description: Retrieve current user's settings including memory preferences
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/usersettingshandler.UserSettingsResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get user settings
      tags:
      - User Settings
    patch:
      consumes:
      - application/json
      description: Update current user's settings (partial update supported)
      parameters:
      - description: Settings to update
        in: body
        name: settings
        required: true
        schema:
          $ref: '#/definitions/usersettings.UpdateRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/usersettingshandler.UserSettingsResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Update user settings
      tags:
      - User Settings
  /v1/users/me/settings/preferences:
    get:
      description: Retrieve current user's preferences only
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/usersettingshandler.PreferencesResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get user preferences
      tags:
      - User Settings
    patch:
      consumes:
      - application/json
      description: Update current user's preferences only
      parameters:
      - description: Preferences to update
        in: body
        name: preferences
        required: true
        schema:
          $ref: '#/definitions/usersettingshandler.UpdatePreferencesRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/usersettingshandler.PreferencesResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/responses.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Update user preferences
      tags:
      - User Settings
  /v1/version:
    get:
      description: Returns the current build version of the API server and environment
        reload timestamp.
      produces:
      - application/json
      responses:
        "200":
          description: Version information including version number and environment
            reload timestamp
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Get API build version
      tags:
      - Server API
securityDefinitions:
  BearerAuth:
    description: Type "Bearer" followed by a space and JWT token.
    in: header
    name: Authorization
    type: apiKey
swagger: "2.0"
